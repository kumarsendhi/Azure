
<!-- saved from url=(0118)https://opsgilityweb.blob.core.windows.net/online-labs/authoring-arm-template-iaas-visualstudio-2017/Exercise%202.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252">

<meta name="Generator" content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Calibri Light";
	panose-1:2 15 3 2 2 2 4 3 2 4;}
@font-face
	{font-family:Gadugi;
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Segoe UI";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
@font-face
	{font-family:"Segoe UI Semilight";
	panose-1:2 11 4 2 4 2 4 2 2 3;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Lucida Console";
	panose-1:2 11 6 9 4 5 4 2 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:0in;
	line-height:107%;
	font-size:12.0pt;
	font-family:"Gadugi",sans-serif;
	color:#262626;}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	line-height:107%;
	page-break-after:avoid;
	font-size:24.0pt;
	font-family:"Gadugi",sans-serif;
	color:#5B9BD5;
	font-weight:normal;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:2.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	line-height:107%;
	page-break-after:avoid;
	font-size:18.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#2E74B5;
	font-weight:bold;}
h3
	{mso-style-link:"Heading 3 Char";
	margin-top:2.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	line-height:107%;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#1F4D78;
	font-weight:normal;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:0in;
	line-height:107%;
	font-size:12.0pt;
	font-family:"Gadugi",sans-serif;
	color:#262626;}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:10.0pt;
	line-height:107%;
	font-size:12.0pt;
	font-family:"Gadugi",sans-serif;
	color:#262626;}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:24.0pt;
	line-height:107%;
	font-size:12.0pt;
	font-family:"Gadugi",sans-serif;
	color:#262626;}
p.MsoToc4, li.MsoToc4, div.MsoToc4
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:33.0pt;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoToc5, li.MsoToc5, div.MsoToc5
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:44.0pt;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoToc6, li.MsoToc6, div.MsoToc6
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:55.0pt;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoToc7, li.MsoToc7, div.MsoToc7
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:66.0pt;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoToc8, li.MsoToc8, div.MsoToc8
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:77.0pt;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoToc9, li.MsoToc9, div.MsoToc9
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:88.0pt;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoCommentText, li.MsoCommentText, div.MsoCommentText
	{mso-style-link:"Comment Text Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Gadugi",sans-serif;
	color:#262626;}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{mso-style-link:"Header Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Gadugi",sans-serif;
	color:#262626;}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{mso-style-link:"Footer Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Gadugi",sans-serif;
	color:#262626;}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{mso-style-link:"Title Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:28.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#4472C4;
	letter-spacing:-.5pt;}
p.MsoTitleCxSpFirst, li.MsoTitleCxSpFirst, div.MsoTitleCxSpFirst
	{mso-style-link:"Title Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:28.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#4472C4;
	letter-spacing:-.5pt;}
p.MsoTitleCxSpMiddle, li.MsoTitleCxSpMiddle, div.MsoTitleCxSpMiddle
	{mso-style-link:"Title Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:28.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#4472C4;
	letter-spacing:-.5pt;}
p.MsoTitleCxSpLast, li.MsoTitleCxSpLast, div.MsoTitleCxSpLast
	{mso-style-link:"Title Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:28.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#4472C4;
	letter-spacing:-.5pt;}
a:link, span.MsoHyperlink
	{color:#0563C1;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:#954F72;
	text-decoration:underline;}
p
	{margin-right:0in;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;}
code
	{font-family:"Courier New";}
pre
	{mso-style-link:"HTML Preformatted Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:Consolas;}
p.MsoCommentSubject, li.MsoCommentSubject, div.MsoCommentSubject
	{mso-style-link:"Comment Subject Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Gadugi",sans-serif;
	color:#262626;
	font-weight:bold;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-link:"Balloon Text Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:9.0pt;
	font-family:"Segoe UI",sans-serif;
	color:#262626;}
p.MsoNoSpacing, li.MsoNoSpacing, div.MsoNoSpacing
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	font-size:8.0pt;
	font-family:"Segoe UI",sans-serif;
	font-weight:bold;}
p.MsoRMPane, li.MsoRMPane, div.MsoRMPane
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:"Gadugi",sans-serif;
	color:#262626;}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{mso-style-name:"List Paragraph\,Bullet List\,FooterText\,numbered\,List Paragraph1\,Paragraphe de liste1\,Bulletr List Paragraph\,\5217\51FA\6BB5\843D\,\5217\51FA\6BB5\843D1\,List Paragraph2\,List Paragraph21\,Listeafsnit1\,Parágrafo da Lista1\,Párrafo de lista1\,\30EA\30B9\30C8\6BB5\843D1\,Bullet list\,List Paragraph11\,Listenabsatz1";
	mso-style-link:"List Paragraph Char\,Bullet List Char\,FooterText Char\,numbered Char\,List Paragraph1 Char\,Paragraphe de liste1 Char\,Bulletr List Paragraph Char\,\5217\51FA\6BB5\843D Char\,\5217\51FA\6BB5\843D1 Char\,List Paragraph2 Char\,List Paragraph21 Char\,Listeafsnit1 Char\,Parágrafo da Lista1 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:.5in;
	line-height:106%;
	font-size:12.0pt;
	font-family:"Gadugi",sans-serif;
	color:#262626;}
p.MsoListParagraphCxSpFirst, li.MsoListParagraphCxSpFirst, div.MsoListParagraphCxSpFirst
	{mso-style-name:"List Paragraph\,Bullet List\,FooterText\,numbered\,List Paragraph1\,Paragraphe de liste1\,Bulletr List Paragraph\,\5217\51FA\6BB5\843D\,\5217\51FA\6BB5\843D1\,List Paragraph2\,List Paragraph21\,Listeafsnit1\,Parágrafo da Lista1\,Párrafo de lista1\,\30EA\30B9\30C8\6BB5\843D1\,Bullet list\,List Paragraph11\,Listenabsatz1CxSp";
	mso-style-link:"List Paragraph Char\,Bullet List Char\,FooterText Char\,numbered Char\,List Paragraph1 Char\,Paragraphe de liste1 Char\,Bulletr List Paragraph Char\,\5217\51FA\6BB5\843D Char\,\5217\51FA\6BB5\843D1 Char\,List Paragraph2 Char\,List Paragraph21 Char\,Listeafsnit1 Char\,Parágrafo da Lista1 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	line-height:106%;
	font-size:12.0pt;
	font-family:"Gadugi",sans-serif;
	color:#262626;}
p.MsoListParagraphCxSpMiddle, li.MsoListParagraphCxSpMiddle, div.MsoListParagraphCxSpMiddle
	{mso-style-name:"List Paragraph\,Bullet List\,FooterText\,numbered\,List Paragraph1\,Paragraphe de liste1\,Bulletr List Paragraph\,\5217\51FA\6BB5\843D\,\5217\51FA\6BB5\843D1\,List Paragraph2\,List Paragraph21\,Listeafsnit1\,Parágrafo da Lista1\,Párrafo de lista1\,\30EA\30B9\30C8\6BB5\843D1\,Bullet list\,List Paragraph11\,Listenabsatz1CxSp";
	mso-style-link:"List Paragraph Char\,Bullet List Char\,FooterText Char\,numbered Char\,List Paragraph1 Char\,Paragraphe de liste1 Char\,Bulletr List Paragraph Char\,\5217\51FA\6BB5\843D Char\,\5217\51FA\6BB5\843D1 Char\,List Paragraph2 Char\,List Paragraph21 Char\,Listeafsnit1 Char\,Parágrafo da Lista1 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	line-height:106%;
	font-size:12.0pt;
	font-family:"Gadugi",sans-serif;
	color:#262626;}
p.MsoListParagraphCxSpLast, li.MsoListParagraphCxSpLast, div.MsoListParagraphCxSpLast
	{mso-style-name:"List Paragraph\,Bullet List\,FooterText\,numbered\,List Paragraph1\,Paragraphe de liste1\,Bulletr List Paragraph\,\5217\51FA\6BB5\843D\,\5217\51FA\6BB5\843D1\,List Paragraph2\,List Paragraph21\,Listeafsnit1\,Parágrafo da Lista1\,Párrafo de lista1\,\30EA\30B9\30C8\6BB5\843D1\,Bullet list\,List Paragraph11\,Listenabsatz1CxSp";
	mso-style-link:"List Paragraph Char\,Bullet List Char\,FooterText Char\,numbered Char\,List Paragraph1 Char\,Paragraphe de liste1 Char\,Bulletr List Paragraph Char\,\5217\51FA\6BB5\843D Char\,\5217\51FA\6BB5\843D1 Char\,List Paragraph2 Char\,List Paragraph21 Char\,Listeafsnit1 Char\,Parágrafo da Lista1 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:.5in;
	line-height:106%;
	font-size:12.0pt;
	font-family:"Gadugi",sans-serif;
	color:#262626;}
p.MsoTocHeading, li.MsoTocHeading, div.MsoTocHeading
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	line-height:107%;
	page-break-after:avoid;
	font-size:24.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#2E74B5;
	font-weight:bold;}
span.HeaderChar
	{mso-style-name:"Header Char";
	mso-style-link:Header;}
span.FooterChar
	{mso-style-name:"Footer Char";
	mso-style-link:Footer;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Gadugi",sans-serif;
	color:#5B9BD5;}
span.CommentTextChar
	{mso-style-name:"Comment Text Char";
	mso-style-link:"Comment Text";
	font-family:"Gadugi",sans-serif;
	color:#262626;}
span.CommentSubjectChar
	{mso-style-name:"Comment Subject Char";
	mso-style-link:"Comment Subject";
	font-family:"Gadugi",sans-serif;
	color:#262626;
	font-weight:bold;}
span.BalloonTextChar
	{mso-style-name:"Balloon Text Char";
	mso-style-link:"Balloon Text";
	font-family:"Segoe UI",sans-serif;
	color:#262626;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Calibri Light",sans-serif;
	color:#2E74B5;
	font-weight:bold;}
span.TitleChar
	{mso-style-name:"Title Char";
	mso-style-link:Title;
	font-family:"Calibri Light",sans-serif;
	color:#4472C4;
	letter-spacing:-.5pt;}
span.Heading3Char
	{mso-style-name:"Heading 3 Char";
	mso-style-link:"Heading 3";
	font-family:"Calibri Light",sans-serif;
	color:#1F4D78;}
p.ppNumberList, li.ppNumberList, div.ppNumberList
	{mso-style-name:"pp Number List";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:37.7pt;
	text-indent:-17.85pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.ppListEnd, li.ppListEnd, div.ppListEnd
	{mso-style-name:"pp List End";
	margin-top:0in;
	margin-right:3.0in;
	margin-bottom:6.0pt;
	margin-left:8.65pt;
	text-align:right;
	text-indent:0in;
	line-height:4.0pt;
	border:none;
	padding:0in;
	font-size:6.0pt;
	font-family:"Calibri",sans-serif;}
p.ppNumberListIndent, li.ppNumberListIndent, div.ppNumberListIndent
	{mso-style-name:"pp Number List Indent";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:71.7pt;
	text-indent:-17.85pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.ppNumberListIndent2, li.ppNumberListIndent2, div.ppNumberListIndent2
	{mso-style-name:"pp Number List Indent 2";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:105.75pt;
	text-indent:-17.85pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.ppBodyText, li.ppBodyText, div.ppBodyText
	{mso-style-name:"pp Body Text";
	mso-style-link:"pp Body Text Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	text-indent:0in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.ppBodyTextIndent, li.ppBodyTextIndent, div.ppBodyTextIndent
	{mso-style-name:"pp Body Text Indent";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:2.0in;
	text-indent:-.25in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.ppBodyTextIndent2, li.ppBodyTextIndent2, div.ppBodyTextIndent2
	{mso-style-name:"pp Body Text Indent 2";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:2.5in;
	text-indent:-.25in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.ppBodyTextIndent3, li.ppBodyTextIndent3, div.ppBodyTextIndent3
	{mso-style-name:"pp Body Text Indent 3";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:3.0in;
	text-indent:-.25in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
span.ppBodyTextChar
	{mso-style-name:"pp Body Text Char";
	mso-style-link:"pp Body Text";
	font-family:"Times New Roman",serif;}
p.Note, li.Note, div.Note
	{mso-style-name:Note;
	mso-style-link:"Note Char";
	margin-top:6.0pt;
	margin-right:22.7pt;
	margin-bottom:6.0pt;
	margin-left:.5in;
	background:#F2F2F2;
	border:none;
	padding:0in;
	font-size:12.0pt;
	font-family:"Gadugi",sans-serif;
	color:#262626;}
p.NoteCxSpFirst, li.NoteCxSpFirst, div.NoteCxSpFirst
	{mso-style-name:NoteCxSpFirst;
	mso-style-link:"Note Char";
	margin-top:6.0pt;
	margin-right:22.7pt;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	background:#F2F2F2;
	border:none;
	padding:0in;
	font-size:12.0pt;
	font-family:"Gadugi",sans-serif;
	color:#262626;}
p.NoteCxSpMiddle, li.NoteCxSpMiddle, div.NoteCxSpMiddle
	{mso-style-name:NoteCxSpMiddle;
	mso-style-link:"Note Char";
	margin-top:0in;
	margin-right:22.7pt;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	background:#F2F2F2;
	border:none;
	padding:0in;
	font-size:12.0pt;
	font-family:"Gadugi",sans-serif;
	color:#262626;}
p.NoteCxSpLast, li.NoteCxSpLast, div.NoteCxSpLast
	{mso-style-name:NoteCxSpLast;
	mso-style-link:"Note Char";
	margin-top:0in;
	margin-right:22.7pt;
	margin-bottom:6.0pt;
	margin-left:.5in;
	background:#F2F2F2;
	border:none;
	padding:0in;
	font-size:12.0pt;
	font-family:"Gadugi",sans-serif;
	color:#262626;}
span.NoteChar
	{mso-style-name:"Note Char";
	mso-style-link:Note;
	font-family:"Gadugi",sans-serif;
	color:#262626;
	background:#F2F2F2;}
span.ListParagraphChar
	{mso-style-name:"List Paragraph Char\,Bullet List Char\,FooterText Char\,numbered Char\,List Paragraph1 Char\,Paragraphe de liste1 Char\,Bulletr List Paragraph Char\,\5217\51FA\6BB5\843D Char\,\5217\51FA\6BB5\843D1 Char\,List Paragraph2 Char\,List Paragraph21 Char\,Listeafsnit1 Char\,Parágrafo da Lista1 Char";
	mso-style-link:"List Paragraph\,Bullet List\,FooterText\,numbered\,List Paragraph1\,Paragraphe de liste1\,Bulletr List Paragraph\,\5217\51FA\6BB5\843D\,\5217\51FA\6BB5\843D1\,List Paragraph2\,List Paragraph21\,Listeafsnit1\,Parágrafo da Lista1\,Párrafo de lista1\,\30EA\30B9\30C8\6BB5\843D1\,Bullet list\,List Paragraph11\,Listenabsatz1";
	font-family:"Gadugi",sans-serif;
	color:#262626;}
p.CodeBlock, li.CodeBlock, div.CodeBlock
	{mso-style-name:"Code Block";
	mso-style-link:"Code Block Char";
	margin-top:8.0pt;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:.5in;
	background:#F2F2F2;
	border:none;
	padding:0in;
	font-size:12.0pt;
	font-family:Consolas;
	color:#262626;}
p.CodeBlockCxSpFirst, li.CodeBlockCxSpFirst, div.CodeBlockCxSpFirst
	{mso-style-name:"Code BlockCxSpFirst";
	mso-style-link:"Code Block Char";
	margin-top:8.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	background:#F2F2F2;
	border:none;
	padding:0in;
	font-size:12.0pt;
	font-family:Consolas;
	color:#262626;}
p.CodeBlockCxSpMiddle, li.CodeBlockCxSpMiddle, div.CodeBlockCxSpMiddle
	{mso-style-name:"Code BlockCxSpMiddle";
	mso-style-link:"Code Block Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	background:#F2F2F2;
	border:none;
	padding:0in;
	font-size:12.0pt;
	font-family:Consolas;
	color:#262626;}
p.CodeBlockCxSpLast, li.CodeBlockCxSpLast, div.CodeBlockCxSpLast
	{mso-style-name:"Code BlockCxSpLast";
	mso-style-link:"Code Block Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:.5in;
	background:#F2F2F2;
	border:none;
	padding:0in;
	font-size:12.0pt;
	font-family:Consolas;
	color:#262626;}
span.CodeBlockChar
	{mso-style-name:"Code Block Char";
	mso-style-link:"Code Block";
	font-family:Consolas;
	color:#262626;
	background:#F2F2F2;}
span.apple-converted-space
	{mso-style-name:apple-converted-space;}
p.TableNorm, li.TableNorm, div.TableNorm
	{mso-style-name:"Table Norm";
	mso-style-link:"Table Norm Char";
	margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	font-size:8.0pt;
	font-family:"Segoe UI Semilight",sans-serif;}
p.TableNormBOLD, li.TableNormBOLD, div.TableNormBOLD
	{mso-style-name:"Table Norm BOLD";
	mso-style-link:"Table Norm BOLD Char";
	margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	font-size:8.0pt;
	font-family:"Segoe UI",sans-serif;
	font-weight:bold;}
span.TableNormChar
	{mso-style-name:"Table Norm Char";
	mso-style-link:"Table Norm";
	font-family:"Segoe UI Semilight",sans-serif;}
span.TableNormBOLDChar
	{mso-style-name:"Table Norm BOLD Char";
	mso-style-link:"Table Norm BOLD";
	font-family:"Segoe UI",sans-serif;
	font-weight:bold;}
p.ActionEmphasis, li.ActionEmphasis, div.ActionEmphasis
	{mso-style-name:ActionEmphasis;
	mso-style-link:"ActionEmphasis Char";
	margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	line-height:115%;
	font-size:10.0pt;
	font-family:"Segoe UI",sans-serif;
	color:black;
	font-weight:bold;}
span.ActionEmphasisChar
	{mso-style-name:"ActionEmphasis Char";
	mso-style-link:ActionEmphasis;
	font-family:"Segoe UI",sans-serif;
	color:black;
	font-weight:bold;}
p.TitleSubHeading, li.TitleSubHeading, div.TitleSubHeading
	{mso-style-name:"Title Sub Heading";
	mso-style-link:"Title Sub Heading Char";
	margin:0in;
	margin-bottom:.0001pt;
	page-break-after:avoid;
	font-size:18.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#2E74B5;
	font-weight:bold;}
span.TitleSubHeadingChar
	{mso-style-name:"Title Sub Heading Char";
	mso-style-link:"Title Sub Heading";
	font-family:"Calibri Light",sans-serif;
	color:#2E74B5;
	font-weight:bold;}
p.TableHeading, li.TableHeading, div.TableHeading
	{mso-style-name:"Table Heading";
	mso-style-link:"Table Heading Char";
	margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	font-size:10.0pt;
	font-family:"Segoe UI Semilight",sans-serif;
	color:#F2F2F2;
	font-weight:bold;}
span.TableHeadingChar
	{mso-style-name:"Table Heading Char";
	mso-style-link:"Table Heading";
	font-family:"Segoe UI Semilight",sans-serif;
	color:#F2F2F2;
	font-weight:bold;}
p.NormalIndent1, li.NormalIndent1, div.NormalIndent1
	{mso-style-name:"Normal Indent 1";
	mso-style-link:"Normal Indent 1 Char";
	margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	text-indent:-.25in;
	font-size:8.0pt;
	font-family:"Segoe UI Semilight",sans-serif;}
p.CodeIndent, li.CodeIndent, div.CodeIndent
	{mso-style-name:"Code Indent";
	mso-style-link:"Code Indent Char";
	margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	font-size:9.0pt;
	font-family:"Lucida Console";
	color:blue;}
span.NormalIndent1Char
	{mso-style-name:"Normal Indent 1 Char";
	mso-style-link:"Normal Indent 1";
	font-family:"Segoe UI Semilight",sans-serif;}
span.CodeIndentChar
	{mso-style-name:"Code Indent Char";
	mso-style-link:"Code Indent";
	font-family:"Lucida Console";
	color:blue;}
span.HTMLPreformattedChar
	{mso-style-name:"HTML Preformatted Char";
	mso-style-link:"HTML Preformatted";
	font-family:Consolas;}
.MsoChpDefault
	{font-family:"Calibri",sans-serif;}
.MsoPapDefault
	{margin-bottom:8.0pt;
	line-height:107%;}
 /* Page Definitions */
 @page WordSection1
	{size:8.5in 11.0in;
	margin:.5in .5in .5in .5in;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang="EN-US" link="#0563C1" vlink="#954F72">

<div class="WordSection1">

<h1><a name="_Toc479277535"></a><a name="_Toc434215032">Exercise 2: </a>Add
Virtual Machines and Network Security Groups to the Template</h1>

<h2><a name="_Toc479277536">Overview</a></h2>

<p class="MsoNormal">In this lab, you will add a new storage account to the ARM template,
followed by adding virtual machines for the web application and for the
database VM instances. You will define the virtual machine configuration using
the PowerShell DSC Script extension and then lock the environment down using a
network security group.</p>

<h2><a name="_Toc479277537">Time Estimate</a></h2>

<p class="MsoListParagraph">60 minutes</p>

<h2><a name="_Toc479277538">Task 1: Add an Azure Storage Account to the ARM
template</a></h2>

<p class="MsoNormal" style="margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:normal">(If the ARM template
from the previous exercise is closed already, open it again in Visual Studio). </p>

<p class="MsoListParagraphCxSpFirst" style="margin-top:6.0pt;margin-right:0in;
margin-bottom:0in;margin-left:.25in;margin-bottom:.0001pt;text-indent:-.25in;
line-height:normal">1.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span>Click the Add new resource button on the JSON Outline toolbar.</p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.25in;margin-bottom:.0001pt;line-height:normal"><img width="163" height="48" id="Picture 259" src="./Exercise 2_files/image001.jpg"></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.25in;margin-bottom:.0001pt;line-height:normal">&nbsp;</p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.25in;margin-bottom:.0001pt;text-indent:-.25in;line-height:
normal">1.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span>Add
a new <b>Storage Account</b> resource to the template named <b>vmstorage </b><i>(be
sure to use all lowercase)</i>.<br>
<img width="603" height="242" id="Picture 13" src="./Exercise 2_files/image002.png"></p>

<p class="MsoNormal">&nbsp;</p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.25in;margin-bottom:.0001pt;text-indent:-.25in;line-height:
normal">2.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span>In
the JSON Outline dialog, click parameters, and then click the new parameter
that was added <b>VMStorageType</b>.</p>

<p class="NormalIndent1"><img width="160" height="46" id="Picture 260" src="./Exercise 2_files/image003.jpg"></p>

<p class="NormalIndent1"><span style="font-family:&quot;Gadugi&quot;,sans-serif">&nbsp;</span></p>

<p class="MsoListParagraphCxSpFirst" style="margin-left:.25in;text-indent:-.25in">3.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span>In the <b>azuredeploy.json</b>
file, remove the <b>Standard_ZRS</b> type from the <b>allowedValues</b> section
of the file. </p>

<p class="MsoListParagraphCxSpMiddle" style="margin-left:.25in">The parameter
should look like the following figure:</p>

<p class="MsoListParagraphCxSpLast" style="margin-left:.25in"><img width="238" height="174" id="Picture 261" src="./Exercise 2_files/image004.jpg"></p>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#F2F2F2;margin-left:.5in;margin-right:22.7pt">

<p class="Note" style="margin-top:6.0pt;margin-right:0in;margin-bottom:6.0pt;
margin-left:0in;background:#F2F2F2"><b>Tip:</b> Standard_ZRS is not a valid
type for virtual machine storage.</p>

</div>

<p class="NormalIndent1" style="margin-left:.25in;text-indent:0in"><span style="font-family:&quot;Gadugi&quot;,sans-serif">&nbsp;</span></p>

<h2><a name="_Toc479277539">Task 2: Add a Windows virtual machine </a>for the Web
Server</h2>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal">1.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span>Add a new
Windows Virtual Machine resource named <b>WebVM. </b>Choose <b>VMStorage</b> as
the storage account, and select the first subnet in the list as the Virtual
network/subnet. The FrontendNetwork is the value of the
OPSTrainingVNETSubnet1Name variable. Click <b>Add</b> to add the resource. </p>

<p class="NormalIndent1" style="text-indent:0in"><img width="482" height="362" id="Picture 262" src="./Exercise 2_files/image005.jpg"></p>

<p class="NormalIndent1" style="text-indent:0in"><span style="font-family:&quot;Gadugi&quot;,sans-serif">&nbsp;</span></p>

<h2><a name="_Toc479277540">Task 3: Add a Public IP Address Resource</a></h2>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal">1.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span>A Network
Interface Card called WebVMNic<b> </b>was automatically added to the
configuration when the virtual machine resource was added. Add a new Public IP Address
resource, and name it <b>WebPublicIP</b> and associate it to the <b>WebVMNic</b>.
This will allow you to connect to the machine using remote desktop client, as
well as to access the web server over port 80.</p>

<p class="NormalIndent1" style="text-indent:0in"><img width="514" height="386" id="Picture 263" src="./Exercise 2_files/image006.jpg"></p>

<p class="MsoNormal">&nbsp;</p>

<h2><a name="_Toc479277541">Task 4: Configure a PowerShell DSC extension to
customize the VM</a></h2>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal"><a name="Task2_step6"></a>1.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span>Add a new PowerShell DSC Extension Resource named <b>WebDSC</b> for the <b>WebVM</b>
virtual machine. Your project will be updated with a new folder called DSC
containing one PowerShell script file called <b>WebDSC.ps1</b>.</p>

<p class="MsoListParagraphCxSpLast"><img width="635" height="475" id="Picture 264" src="./Exercise 2_files/image007.jpg"></p>

<p class="NormalIndent1" style="text-indent:0in"><span style="font-family:&quot;Gadugi&quot;,sans-serif">&nbsp;</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal">2.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span>In the
Solution Explorer open the <b>DSC\WebDSC.ps1<i> </i></b>file.</p>

<p class="MsoListParagraphCxSpMiddle"><img width="284" height="136" id="Picture 265" src="./Exercise 2_files/image008.jpg"></p>

<p class="MsoListParagraphCxSpLast">&nbsp;</p>

<span style="font-size:12.0pt;line-height:107%;font-family:&quot;Gadugi&quot;,sans-serif;
color:#262626"><br clear="all" style="page-break-before:always">
</span>

<p class="MsoNormal">&nbsp;</p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal">3.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span>Identify
the following line of code:</p>

<p class="CodeIndent"><span style="color:darkblue">&nbsp;</span></p>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#F2F2F2;margin-left:.5in;margin-right:0in">

<p class="CodeBlock" style="margin-left:0in;background:#F2F2F2"><span style="color:darkblue">Param</span><span style="color:black">&nbsp;(</span><span style="color:darkgray">[</span><span style="color:teal">string</span><span style="color:darkgray">]</span><span style="color:black">&nbsp;</span>$nodeName<span style="color:black">)</span></p>

</div>

<p class="CodeIndent"><span style="color:black">&nbsp;</span></p>

<p class="MsoNormal" style="margin-left:.5in">Add a second parameter
$webDeployPackage as shown below.</p>

<p class="CodeIndent" style="margin-left:.25in"><span style="color:darkblue">&nbsp;</span></p>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#F2F2F2;margin-left:.5in;margin-right:0in">

<p class="CodeBlock" style="margin-left:0in;background:#F2F2F2"><a name="OLE_LINK5"></a><a name="OLE_LINK4"><span style="color:darkblue">Param</span></a><span style="color:black">&nbsp;(</span><span style="color:darkgray">[</span><span style="color:teal">string</span><span style="color:darkgray">]</span><span style="color:black">&nbsp;</span>$nodeName<a name="OLE_LINK21"></a><a name="OLE_LINK20"><span style="color:darkgray">,</span></a><span style="color:black"> </span><span style="color:darkgray">[</span><span style="color:teal">string</span><span style="color:darkgray">]</span><span style="color:black">&nbsp;</span>$webDeployPackage<span style="color:black">)</span></p>

</div>

<p class="CodeIndent" style="margin-left:.25in"><span style="color:black">&nbsp;</span></p>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#F2F2F2;margin-left:.5in;margin-right:22.7pt">

<p class="Note" style="margin-top:6.0pt;margin-right:0in;margin-bottom:6.0pt;
margin-left:0in;background:#F2F2F2">This change will allow us to pass a URL to
the script that will automatically download a web app from a URL to deploy into
the virtual machine.</p>

</div>

<p class="NormalIndent1" style="text-indent:0in"><span style="font-family:&quot;Gadugi&quot;,sans-serif">&nbsp;</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal"><span style="background:white">1.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style="background:white">Open the <b>DSC\WebDSC.ps1</b>
script file and collapse the comments between the node section.</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><img width="323" height="106" id="Picture 272" src="./Exercise 2_files/image009.jpg"></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><span style="background:white">&nbsp;</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal"><span style="background:white">2.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style="background:white">Select the collapsed section of
commented out code and press <b>delete</b>.</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><img width="204" height="98" id="Picture 273" src="./Exercise 2_files/image010.jpg"></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal"><span style="background:white">3.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Paste in the contents of the <b>arm-vm-web-dsc-extension.txt</b>
from the <b>OpsgilityTraining</b> folder where the commented code used to be.</p>

<p class="CodeIndent" style="margin-left:0in"><span style="color:black;
background:white"> </span><img width="568" height="260" id="Picture 274" src="./Exercise 2_files/image011.jpg"><span style="color:black;background:white">&nbsp;</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal">4.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span>Save and
close the file and go back to the template file.</p>

<p class="NormalIndent1" style="text-indent:0in"><span style="font-family:&quot;Gadugi&quot;,sans-serif">&nbsp;</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal"><span style="color:black">5.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Add a new parameter named <b>WebPackage</b> to the end of the
parameters section of the azuredeploy.json file. <a name="OLE_LINK9"></a><a name="OLE_LINK8"></a><a name="OLE_LINK24"></a><a name="OLE_LINK23">The default
value will point to the following sample app URI: </a><a href="http://opsgilitytraining.blob.core.windows.net/samples/cloudshop.zip">http://opsgilitytraining.blob.core.windows.net/samples/cloudshop.zip</a>
</p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><span style="color:black">&nbsp;</span></p>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#F2F2F2;margin-left:.5in;margin-right:0in">

<p class="CodeBlockCxSpFirst" style="margin-left:0in;background:#F2F2F2">"WebPackage"<span style="color:black">: {</span></p>

<p class="CodeBlockCxSpMiddle" style="margin-left:0in;background:#F2F2F2"><span style="color:black">&nbsp;&nbsp; </span>"type"<span style="color:black">: </span><span style="color:#A31515">"string"</span><span style="color:black">,</span></p>

<p class="CodeBlockCxSpMiddle" style="margin-left:0in;background:#F2F2F2"><span style="color:black">&nbsp;&nbsp; </span>"defaultValue"<span style="color:black">:
</span><span style="color:#A31515">"http://opsgilitytraining.blob.core.windows.net/samples/cloudshop.zip"</span></p>

<p class="CodeBlockCxSpLast" style="margin-left:0in;background:#F2F2F2"><span style="color:black">&nbsp;}</span></p>

</div>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><span style="color:black">&nbsp;</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><span style="color:black">The parameter should look like this: </span></p>

<p class="MsoNormal" style="margin-left:.5in;background:white"><img border="0" width="547" height="164" id="Picture 269" src="./Exercise 2_files/image012.jpg"></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal">6.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span>Click the <b>WebDSC</b>
extension in the JSON outline to navigate to the DSC resource.</p>

<p class="MsoListParagraphCxSpMiddle"><img border="0" width="156" height="131" id="Picture 71" src="./Exercise 2_files/image013.jpg"></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal">&nbsp;</p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal">7.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span>Find the <b>configurationArguments</b>
attribute of the DSC extension. </p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><img border="0" width="446" height="272" id="Picture 267" src="./Exercise 2_files/image014.jpg"></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal">&nbsp;</p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal">8.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span>Add the <b>webDeployPackage</b>
property beneath the <b>nodeName</b> property to pass the URL from the template
parameter to the DSC extension code. </p>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#F2F2F2;margin-left:.5in;margin-right:0in">

<p class="CodeBlock" style="margin-left:0in;background:#F2F2F2"><span style="color:#2E75B6">"webDeployPackage"</span><span style="color:black">: </span>"[parameters('WebPackage')]"</p>

</div>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><img border="0" width="372" height="70" id="Picture 270" src="./Exercise 2_files/image015.jpg">&nbsp;</p>

<p class="MsoNormal">&nbsp;</p>

<h2><a name="_Toc479277542">Task 5: Add a Windows virtual machine for the SQL database
server</a></h2>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal">1.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span>Add
another virtual machine to the template by clicking the Add Resource button and
then select Windows Virtual Machine.</p>

<p class="NormalIndent1" style="margin-left:.75in;text-indent:0in"><span style="font-family:&quot;Gadugi&quot;,sans-serif"><img border="0" width="260" height="64" id="Picture 12" src="./Exercise 2_files/image016.jpg"></span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal">2.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp; </span>Name this
virtual machine resource SQLVM and reference the <b>vmstorage</b> storage
account and <b>OPSTrainingVNETSubnet2Name</b> variable.</p>

<p class="NormalIndent1" style="margin-left:.75in;text-indent:0in"><img border="0" width="624" height="470" id="Picture 2" src="./Exercise 2_files/image017.jpg"></p>

<p class="MsoListParagraphCxSpFirst"><span class="ListParagraphChar">&nbsp;</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal"><span class="ListParagraphChar">3.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class="ListParagraphChar">Find the variables section, and
then then navigate to then find the following variables:</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><img border="0" width="258" height="392" id="Picture 15" src="./Exercise 2_files/image018.png"></p>

<p class="MsoListParagraphCxSpMiddle"><span class="ListParagraphChar">&nbsp;</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal"><span class="ListParagraphChar">4.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class="ListParagraphChar">Set the <b>SQLVMImagePublisher</b> and
<b>SQLVMImageOffer</b> variables to the following SQL Server image values:</span></p>

<p class="CodeIndent" style="margin-left:0in"><span class="ListParagraphChar"><span style="font-size:12.0pt">&nbsp;</span></span></p>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#F2F2F2;margin-left:.5in;margin-right:0in">

<p class="CodeBlockCxSpFirst" style="margin-left:0in;background:#F2F2F2">"SQLVMImagePublisher"<span style="color:black">: </span><span style="color:#A31515">"MicrosoftSQLServer"</span><span style="color:black">,</span></p>

<p class="CodeBlockCxSpLast" style="margin-left:0in;background:#F2F2F2">"SQLVMImageOffer"<span style="color:black">: </span><span style="color:#A31515">"SQL2014SP2-WS2012R2"</span><span style="color:black">,</span></p>

</div>

<p class="CodeIndent" style="margin-left:0in"><span class="ListParagraphChar"><span style="font-size:12.0pt">&nbsp;</span></span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal"><span class="ListParagraphChar">5.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class="ListParagraphChar">Find the <b>SQLVMWindowsOSVersion</b>
parameter. </span></p>

<p class="MsoListParagraphCxSpMiddle"><img border="0" width="212" height="25" id="Picture 77" src="./Exercise 2_files/image019.jpg"></p>

<p class="MsoListParagraphCxSpMiddle"><span class="ListParagraphChar">&nbsp;</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal"><span class="ListParagraphChar">6.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class="ListParagraphChar">Delete the parameter <b>SQLVMWindowsOSVersion
</b>and replace it with the following:</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><span class="ListParagraphChar">&nbsp;</span></p>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#F2F2F2;margin-left:.5in;margin-right:0in">

<p class="CodeBlockCxSpFirst" style="margin-left:0in;background:#F2F2F2"><span style="color:#2E75B6">"SQLVMSKU"</span>: {</p>

<p class="CodeBlockCxSpMiddle" style="margin-left:0in;background:#F2F2F2">&nbsp;&nbsp; <span style="color:#2E75B6">"type"</span>: <span style="color:#A31515">"string"</span>,</p>

<p class="CodeBlockCxSpMiddle" style="margin-left:0in;background:#F2F2F2">&nbsp;&nbsp; <span style="color:#2E75B6">"defaultValue"</span>: <span style="color:#A31515">"Web"</span>,</p>

<p class="CodeBlockCxSpMiddle" style="margin-left:0in;background:#F2F2F2">&nbsp;&nbsp; <span style="color:#2E75B6">"allowedValues"</span>: [</p>

<p class="CodeBlockCxSpMiddle" style="margin-left:0in;background:#F2F2F2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color:#A31515">"Web"</span>,</p>

<p class="CodeBlockCxSpMiddle" style="margin-left:0in;background:#F2F2F2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color:#A31515">"Standard"</span></p>

<p class="CodeBlockCxSpMiddle" style="margin-left:0in;background:#F2F2F2">&nbsp;&nbsp;&nbsp; ]</p>

<p class="CodeBlockCxSpLast" style="margin-left:0in;background:#F2F2F2">}</p>

</div>

<p class="MsoNormal" style="margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:normal"><span class="ListParagraphChar">&nbsp;</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal"><span class="ListParagraphChar">7.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class="ListParagraphChar">Click the <b>SQLVM</b> virtual
machine resource to navigate to its properties. </span></p>

<p class="MsoListParagraphCxSpMiddle"><img border="0" width="110" height="29" id="Picture 78" src="./Exercise 2_files/image020.jpg"></p>

<p class="MsoListParagraphCxSpMiddle"><span class="ListParagraphChar">&nbsp;</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal"><span class="ListParagraphChar">8.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class="ListParagraphChar">You should see a red squiggly line
beneath <b>SQLVMWindowsOSVersion</b>. This means that the parameter is not
defined in the parameters section (because we just deleted it). You will also
see a red square on the navigation bar. This means Visual Studio has detected a
problem with the JSON file at that location.</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><img border="0" width="408" height="121" id="Picture 16" src="./Exercise 2_files/image021.jpg"><span class="ListParagraphChar">&nbsp;&nbsp; </span><img border="0" width="18" height="114" id="Picture 31" src="./Exercise 2_files/image022.jpg"></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><span class="ListParagraphChar">&nbsp;</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal"><span class="ListParagraphChar">9.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class="ListParagraphChar">Update the SKU reference to point
to the renamed parameter: <b>SQLVMSKU</b>.</span></p>

<p class="MsoNormal" style="margin-left:.5in;text-autospace:none"><a name="OLE_LINK32"></a><a name="OLE_LINK31"><img border="0" width="407" height="107" id="Picture 79" src="./Exercise 2_files/image023.jpg"></a></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal"><span style="background:white">10.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp; </span></span><span style="background:white">Add a new parameter named vmSizeSQL to the end of the parameters
section to allow the user to specify the size of the virtual machine at
deployment time.</span><span style="background:white"> </span>The defaultValue
should be set to Standard_D1_V2, and the allowedValues should support
Standard_D1_V2.</p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><span style="background:white">&nbsp;</span></p>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#F2F2F2;margin-left:.5in;margin-right:0in">

<p class="CodeBlockCxSpFirst" style="margin-left:0in;background:#F2F2F2">"vmSizeSql"<span style="color:black">: {</span></p>

<p class="CodeBlockCxSpMiddle" style="margin-left:0in;background:#F2F2F2"><span style="color:black">&nbsp;&nbsp;&nbsp; </span>"type"<span style="color:black">: </span><span style="color:#A31515">"string"</span><span style="color:black">,</span></p>

<p class="CodeBlockCxSpMiddle" style="margin-left:0in;background:#F2F2F2"><span style="color:black">&nbsp;&nbsp;&nbsp; </span>"defaultValue"<span style="color:black">:
</span><span style="color:#A31515">"Standard_D1_V2"</span><span style="color:black">,</span></p>

<p class="CodeBlockCxSpMiddle" style="margin-left:0in;background:#F2F2F2"><span style="color:black">&nbsp;&nbsp;&nbsp; </span>"allowedValues"<span style="color:
black">: [</span></p>

<p class="CodeBlockCxSpMiddle" style="margin-left:0in;background:#F2F2F2"><span style="color:black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color:#A31515">"Standard_D1_V2"</span></p>

<p class="CodeBlockCxSpMiddle" style="margin-left:0in;background:#F2F2F2"><span style="color:black">&nbsp;&nbsp;&nbsp;&nbsp; ]</span></p>

<p class="CodeBlockCxSpLast" style="margin-left:0in;background:#F2F2F2"><span style="color:black">}</span> </p>

</div>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><span style="background:white">&nbsp;</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal"><span style="background:white">11.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp; </span></span><span style="background:white">Navigate to the resources section for the <b>SQLVM</b>
resource. Find the <b>hardwareProfile</b> section and update the <b>vmSize</b> property
to use the value passed in to the <b>vmSizeSQL</b> parameter. </span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.5pt;font-family:Consolas;color:#2E75B6;background:white">"vmSize"</span><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">: </span><span style="font-size:9.5pt;font-family:Consolas;color:#A31515;background:white">"[parameters('vmSizeSQL')]"</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><span style="background:white">&nbsp;</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><span style="background:white">By default, this will refer to a variable named
SQLVMVMSize.</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><img border="0" width="293" height="54" id="Picture 36" src="./Exercise 2_files/image024.jpg"></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><span style="background:white">We want to change it to refer to our parameter to give
the user the instance size options we defined there.</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><img border="0" width="302" height="56" id="Picture 39" src="./Exercise 2_files/image025.jpg"></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><span style="background:white">&nbsp;</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal"><span style="background:white">12.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp; </span></span><span style="background:white">Next, add two data disks to the </span>SQLVM<span style="background:white"> </span><span style="background:white">by first adding
two new variables that define where in Azure storage the VHD files will be
created. Add the following code after the last variable in the template: &nbsp;</span></p>

<p class="NormalIndent1" style="text-indent:0in"><span style="font-family:&quot;Gadugi&quot;,sans-serif;
background:white">&nbsp;</span></p>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#F2F2F2;margin-left:.5in;margin-right:0in">

<p class="CodeBlockCxSpFirst" style="margin-left:0in;background:#F2F2F2"><span style="color:#2E75B6">"SQLDISK1"</span><span style="color:black">: </span>"[concat('http://',variables('vmstorageName'),'.blob.core.windows.net/','vhds','/','dataDisk1.vhd')]"<span style="color:black">,</span></p>

<p class="CodeBlockCxSpLast" style="margin-left:0in;background:#F2F2F2"><span style="color:#2E75B6">"SQLDISK2"</span><span style="color:black">: </span>"[concat('http://',variables('vmstorageName'),'.blob.core.windows.net/','vhds','/','dataDisk2.vhd')]"</p>

</div>

<p class="NormalIndent1" style="margin-left:0in;text-indent:0in"><span style="font-family:&quot;Gadugi&quot;,sans-serif;background:white">&nbsp;</span></p>

<p class="MsoNormal">Example:</p>

<p class="NormalIndent1" style="text-indent:0in"><img border="0" width="682" height="70" id="Picture 58" src="./Exercise 2_files/image026.jpg"></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><span style="background:white">&nbsp;</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal"><span style="background:white">13.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp; </span></span><span style="background:white">Click the SQLVM resource in the JSON Outline and in
the template file find the <b>osDisk</b> property. Add a comma to the end of
the code block. </span></p>

<p class="MsoListParagraphCxSpMiddle"><img border="0" width="404" height="177" id="Picture 80" src="./Exercise 2_files/image027.jpg"></p>

<p class="MsoListParagraphCxSpLast"><span style="background:white">Paste in the
following code to reference the data disks. </span></p>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#F2F2F2;margin-left:.5in;margin-right:0in">

<p class="CodeBlockCxSpFirst" style="margin-left:0in;background:#F2F2F2">"dataDisks":
[</p>

<p class="CodeBlockCxSpMiddle" style="margin-left:0in;background:#F2F2F2">{</p>

<p class="CodeBlockCxSpMiddle" style="margin-left:0in;background:#F2F2F2">&nbsp;
"name": "datadisk1",</p>

<p class="CodeBlockCxSpMiddle" style="margin-left:0in;background:#F2F2F2">&nbsp;
"diskSizeGB": "1023",</p>

<p class="CodeBlockCxSpMiddle" style="margin-left:0in;background:#F2F2F2">&nbsp;
"lun": 0,</p>

<p class="CodeBlockCxSpMiddle" style="margin-left:0in;background:#F2F2F2">&nbsp;
"vhd": { "uri": "[variables('SQLDISK1')]" },</p>

<p class="CodeBlockCxSpMiddle" style="margin-left:0in;background:#F2F2F2">&nbsp;
"createOption": "Empty"</p>

<p class="CodeBlockCxSpMiddle" style="margin-left:0in;background:#F2F2F2">},</p>

<p class="CodeBlockCxSpMiddle" style="margin-left:0in;background:#F2F2F2">{</p>

<p class="CodeBlockCxSpMiddle" style="margin-left:0in;background:#F2F2F2">&nbsp;
"name": "datadisk2",</p>

<p class="CodeBlockCxSpMiddle" style="margin-left:0in;background:#F2F2F2">&nbsp;
"diskSizeGB": "1023",</p>

<p class="CodeBlockCxSpMiddle" style="margin-left:0in;background:#F2F2F2">&nbsp;
"lun": 1,</p>

<p class="CodeBlockCxSpMiddle" style="margin-left:0in;background:#F2F2F2">&nbsp;
"vhd": { "uri": "[variables('SQLDISK2')]" },</p>

<p class="CodeBlockCxSpMiddle" style="margin-left:0in;background:#F2F2F2">&nbsp;
"createOption": "Empty"</p>

<p class="CodeBlockCxSpMiddle" style="margin-left:0in;background:#F2F2F2">}</p>

<p class="CodeBlockCxSpLast" style="margin-left:0in;background:#F2F2F2">]</p>

</div>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="color:black;background:white">&nbsp;</span></p>

<h2><a name="_Toc479277543">Task <span style="background:white">6: Configure a
PowerShell DSC Extension to define the SQL Server configuration</span></a></h2>

<p class="MsoNormal"><span style="background:white">In this task, you will add a
PowerShell DSC Extension to the virtual machine to automatically format the
disks of the SQL Server and also download and automatically restore a database.
</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal"><span style="background:white">4.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Add a new PowerShell DSC Extension named <b>SQLDSC</b> and
associate with the SQLVM VM.</p>

<p class="MsoListParagraphCxSpMiddle"><img border="0" width="598" height="451" id="Picture 257" src="./Exercise 2_files/image028.jpg"></p>

<p class="MsoListParagraphCxSpMiddle">&nbsp;</p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal"><span style="background:white">5.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style="background:white">Open the <b>DSC\SQLDSC.ps1</b>
script file and collapse the comments between the node section.</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><img border="0" width="323" height="106" id="Picture 266" src="./Exercise 2_files/image029.jpg"></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><span style="background:white">&nbsp;</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal"><span style="background:white">6.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style="background:white">Select the collapsed section of
commented out code and press <b>delete</b>.</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><img border="0" width="160" height="76" id="Picture 268" src="./Exercise 2_files/image030.jpg"></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal"><span style="background:white">7.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Paste in the contents of the <b>arm-vm-sql-dsc-extension.txt</b> from
the <b>OpsgilityTraining</b> folder where the commented code used to be.</p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><img border="0" width="464" height="258" id="Picture 271" src="./Exercise 2_files/image031.jpg">&nbsp;</p>

<p class="CodeIndent"><span style="font-family:&quot;Gadugi&quot;,sans-serif;background:
white">&nbsp;</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal"><span style="background:white">8.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style="background:white">Press <b>Save</b> and close the
SQLDSC.ps1 file.</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><span style="background:white">&nbsp;</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal"><span style="background:white">9.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span style="background:white">Right click</span></b><span style="background:white"> on the project, click <b>Deploy</b>, and click <b>New
Deployment</b>.</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><img border="0" width="652" height="93" id="Picture 87" src="./Exercise 2_files/image032.jpg"></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><span style="background:white">&nbsp;</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal">10.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp; </span>Ensure the following
configuration is specified and <b>click Edit Parameters</b>:</p>

<table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" style="margin-left:.5in;border-collapse:collapse;border:none">
 <tbody><tr>
  <td width="360" valign="top" style="width:269.75pt;border:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;
  margin-bottom:0in;margin-left:0in;margin-bottom:.0001pt;line-height:normal">&nbsp;</p>
  <p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;
  margin-bottom:0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;
  line-height:normal"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><b>Subscription:</b> the subscription you created the storage
  account in exercise 0 in.</p>
  <p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;
  margin-bottom:0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;
  line-height:normal"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><b>Resource Group:</b> ARMLabIntro</p>
  <p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;
  margin-bottom:0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;
  line-height:normal"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><b>Artifact Storage Account:</b> should be the storage account
  you created in the first exercise </p>
  <p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;
  margin-bottom:0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal">&nbsp;</p>
  </td>
  <td width="360" valign="top" style="width:269.75pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt">
  <p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;
  margin-bottom:0in;margin-left:0in;margin-bottom:.0001pt;line-height:normal"><img border="0" width="388" height="334" id="Picture 275" src="./Exercise 2_files/image033.jpg"></p>
  </td>
 </tr>
</tbody></table>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal">&nbsp;</p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal">11.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp; </span>On the <b>Edit Parameters</b>
dialog populate the empty values.</p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:1.0in;margin-bottom:.0001pt;text-indent:-.25in;line-height:
normal"><span style="font-family:Symbol;background:white">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="background:white">WebVMName: <b>armweb</b></span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:1.0in;margin-bottom:.0001pt;text-indent:-.25in;line-height:
normal"><span style="font-family:Symbol;background:white">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="background:white">WebVMAdminUserName: <b>demouser</b></span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:1.0in;margin-bottom:.0001pt;text-indent:-.25in;line-height:
normal"><span style="font-family:Symbol;background:white">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="background:white">WebVMAdminUserName: <b>Demo@pass123</b></span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:1.0in;margin-bottom:.0001pt;text-indent:-.25in;line-height:
normal"><span style="font-family:Symbol;background:white">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="background:white">WebPublicIPDnsName: <b>Specify a likely unique value
all lowercase alpha-numeric.</b></span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:1.0in;margin-bottom:.0001pt;text-indent:-.25in;line-height:
normal"><span style="font-family:Symbol;background:white">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="background:white">SQLVMName: <b>armsql</b></span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:1.0in;margin-bottom:.0001pt;text-indent:-.25in;line-height:
normal"><span style="font-family:Symbol;background:white">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="background:white">SQLVMAdminUserName: <b>demouser</b></span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:1.0in;margin-bottom:.0001pt;text-indent:-.25in;line-height:
normal"><span style="font-family:Symbol;background:white">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="background:white">SQLVMAdminPassword: <b>Demo@pass123</b></span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:1.0in;margin-bottom:.0001pt;text-indent:-.25in;line-height:
normal"><span style="font-family:Symbol;background:white">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="background:white">SQLVMSKU:<b>&nbsp; Web</b></span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:1.0in;margin-bottom:.0001pt;text-indent:-.25in;line-height:
normal"><span style="font-family:Symbol;background:white">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="background:white">vmSQLSize: <b>Standard_D1_V2</b></span></p>

<p class="NormalIndent1" style="margin-left:.75in;text-indent:0in"><img border="0" width="584" height="422" id="Picture 276" src="./Exercise 2_files/image034.jpg"></p>

<p class="NormalIndent1" style="text-indent:0in"><span style="font-family:&quot;Gadugi&quot;,sans-serif;
background:white">&nbsp;</span></p>

<p class="MsoListParagraphCxSpFirst" style="text-indent:-.25in"><span style="background:white">12.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp; </span></span><span style="background:white">Click <b>Save passwords as plain text</b> in the
parameters file, then click <b>Save</b>.</span></p>

<p class="MsoListParagraphCxSpMiddle"><img border="0" width="578" height="66" id="Picture 278" src="./Exercise 2_files/image035.jpg"></p>

<p class="MsoListParagraphCxSpMiddle"><span style="background:white">&nbsp;</span></p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in"><span style="background:white">13.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp; </span></span><span style="background:white">Click <b>Deploy</b> to start the deployment. This may
take 20-30 minutes.</span></p>

<p class="MsoListParagraphCxSpMiddle"><span style="background:white">&nbsp;</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal"><span style="background:white">14.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp; </span></span><span style="background:white">Launch the Azure Portal and navigate to the resource
group you deployed to. Click the virtual machine for the web server.</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><img border="0" width="402" height="90" id="Picture 106" src="./Exercise 2_files/image036.jpg"></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><span style="background:white">&nbsp;</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal"><span style="background:white">15.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp; </span></span><span style="background:white">&nbsp;Then click the public IP.</span></p>

<p class="MsoListParagraphCxSpMiddle"><img border="0" width="545" height="264" id="Picture 41" src="./Exercise 2_files/image037.png"></p>

<p class="MsoListParagraphCxSpMiddle"><span style="background:white">&nbsp;</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal"><span style="background:white">16.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp; </span></span><span style="background:white">Take note of the DNS Name and navigate to it in the
browser.&nbsp; In this case, it is:</span></p>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#F2F2F2;margin-left:.5in;margin-right:0in">

<p class="CodeBlock" style="margin-left:0in;background:#F2F2F2">armpublicip12112.southcentralus.cloudapp.azure.com</p>

</div>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><img border="0" width="593" height="229" id="Picture 43" src="./Exercise 2_files/image038.jpg"></p>

<p class="MsoListParagraphCxSpLast"><span style="background:white">&nbsp;</span></p>

<p class="NormalIndent1" style="text-indent:0in"><img border="0" width="422" height="484" id="Picture 45" src="./Exercise 2_files/image039.jpg"></p>

<p class="NormalIndent1" style="text-indent:0in"><i><span style="font-family:
&quot;Gadugi&quot;,sans-serif;background:white">&nbsp;</span></i></p>

<h2><a name="_Toc479277544"></a><a name="_Toc479277548"><span style="background:
white">Task 7: Add a Network Security Group</span></a></h2>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#F2F2F2;margin-left:.5in;margin-right:22.7pt">

<p class="Note" style="margin-top:6.0pt;margin-right:0in;margin-bottom:6.0pt;
margin-left:0in;background:#F2F2F2">Note: The Azure SDK tools for Visual Studio
do not support adding a network security group (NSG) directly (at the time of this
writing at least). You must manually add the JSON code for the NSG resource. For
additional examples of resources see the Azure Quick Starts repository: <a href="https://github.com/Azure/azure-quickstart-templates"><span style="color:#262626;text-decoration:none">https://github.com/Azure/azure-quickstart-templates</span></a>.
</p>

</div>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal"><span style="background:white">1.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style="background:white">To add the resource, make a new
line before the <b>OPSTrainingVNET</b> resource. </span></p>

<p class="MsoNormal" style="margin-left:.5in;text-autospace:none"><img border="0" width="362" height="172" id="Picture 9" src="./Exercise 2_files/image040.jpg"></p>

<span style="font-size:12.0pt;line-height:107%;font-family:&quot;Gadugi&quot;,sans-serif;
color:#262626;background:white"><br clear="all" style="page-break-before:always">
</span>

<p class="MsoNormal"><span style="background:white">&nbsp;</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal"><span style="background:white">2.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style="background:white">Paste the following code on the
new line you created:</span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">{</span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style="font-size:9.5pt;font-family:Consolas;color:#2E75B6;
background:white">"apiVersion"</span><span style="font-size:9.5pt;
font-family:Consolas;color:black;background:white">: </span><span style="font-size:9.5pt;font-family:Consolas;color:#A31515;background:white">"</span><span style="font-size:9.5pt;font-family:Consolas;color:#A31515">2016-03-30<span style="background:white">"</span></span><span style="font-size:9.5pt;
font-family:Consolas;color:black;background:white">,</span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style="font-size:9.5pt;font-family:Consolas;color:#2E75B6;
background:white">"type"</span><span style="font-size:9.5pt;
font-family:Consolas;color:black;background:white">: </span><span style="font-size:9.5pt;font-family:Consolas;color:#A31515;background:white">"Microsoft.Network/networkSecurityGroups"</span><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">,</span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style="font-size:9.5pt;font-family:Consolas;color:#2E75B6;
background:white">"name"</span><span style="font-size:9.5pt;
font-family:Consolas;color:black;background:white">: </span><span style="font-size:9.5pt;font-family:Consolas;color:#A31515;background:white">"WebNetworkSecurityGroup"</span><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">,</span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style="font-size:9.5pt;font-family:Consolas;color:#2E75B6;
background:white">"location"</span><span style="font-size:9.5pt;
font-family:Consolas;color:black;background:white">: </span><span style="font-size:9.5pt;font-family:Consolas;color:#A31515;background:white">"[resourceGroup().location]"</span><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">,</span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style="font-size:9.5pt;font-family:Consolas;color:#2E75B6;
background:white">"properties"</span><span style="font-size:9.5pt;
font-family:Consolas;color:black;background:white">: {</span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style="font-size:9.5pt;font-family:Consolas;color:#2E75B6;
background:white">"securityRules"</span><span style="font-size:9.5pt;
font-family:Consolas;color:black;background:white">: [</span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
{</span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style="font-size:9.5pt;font-family:Consolas;color:#2E75B6;
background:white">"name"</span><span style="font-size:9.5pt;
font-family:Consolas;color:black;background:white">: </span><span style="font-size:9.5pt;font-family:Consolas;color:#A31515;background:white">"webrule"</span><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">,</span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style="font-size:9.5pt;font-family:Consolas;color:#2E75B6;
background:white">"properties"</span><span style="font-size:9.5pt;
font-family:Consolas;color:black;background:white">: {</span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style="font-size:9.5pt;font-family:Consolas;color:#2E75B6;
background:white">"description"</span><span style="font-size:9.5pt;
font-family:Consolas;color:black;background:white">: </span><span style="font-size:9.5pt;font-family:Consolas;color:#A31515;background:white">"This
rule allows traffic in on port 80"</span><span style="font-size:9.5pt;
font-family:Consolas;color:black;background:white">,</span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style="font-size:9.5pt;font-family:Consolas;color:#2E75B6;
background:white">"protocol"</span><span style="font-size:9.5pt;
font-family:Consolas;color:black;background:white">: </span><span style="font-size:9.5pt;font-family:Consolas;color:#A31515;background:white">"Tcp"</span><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">,</span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style="font-size:9.5pt;font-family:Consolas;color:#2E75B6;
background:white">"sourcePortRange"</span><span style="font-size:
9.5pt;font-family:Consolas;color:black;background:white">: </span><span style="font-size:9.5pt;font-family:Consolas;color:#A31515;background:white">"*"</span><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">,</span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style="font-size:9.5pt;font-family:Consolas;color:#2E75B6;
background:white">"destinationPortRange"</span><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">: </span><span style="font-size:9.5pt;font-family:Consolas;color:#A31515;background:white">"80"</span><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">,</span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style="font-size:9.5pt;font-family:Consolas;color:#2E75B6;
background:white">"sourceAddressPrefix"</span><span style="font-size:
9.5pt;font-family:Consolas;color:black;background:white">: </span><span style="font-size:9.5pt;font-family:Consolas;color:#A31515;background:white">"INTERNET"</span><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">,</span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style="font-size:9.5pt;font-family:Consolas;color:#2E75B6;
background:white">"destinationAddressPrefix"</span><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">: </span><span style="font-size:9.5pt;font-family:Consolas;color:#A31515;background:white">"10.0.0.0/24"</span><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">,</span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style="font-size:9.5pt;font-family:Consolas;color:#2E75B6;
background:white">"access"</span><span style="font-size:9.5pt;
font-family:Consolas;color:black;background:white">: </span><span style="font-size:9.5pt;font-family:Consolas;color:#A31515;background:white">"Allow"</span><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">,</span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style="font-size:9.5pt;font-family:Consolas;color:#2E75B6;
background:white">"priority"</span><span style="font-size:9.5pt;
font-family:Consolas;color:black;background:white">: 100,</span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style="font-size:9.5pt;font-family:Consolas;color:#2E75B6;
background:white">"direction"</span><span style="font-size:9.5pt;
font-family:Consolas;color:black;background:white">: </span><span style="font-size:9.5pt;font-family:Consolas;color:#A31515;background:white">"Inbound"</span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
}</span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
}</span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
]</span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
}</span></p>

<p class="MsoNormal" style="margin-left:.5in;text-autospace:none"><span style="font-size:9.5pt;line-height:107%;font-family:Consolas;color:black;
background:white">},</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><span style="background:white">&nbsp;</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal"><span style="background:white">3.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style="background:white">Click the <b>OPSTrainingVNET</b>
resource to navigate to its configuration. </span></p>

<p class="MsoListParagraphCxSpMiddle"><img border="0" width="209" height="59" id="Picture 97" src="./Exercise 2_files/image041.jpg"></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><span style="background:white">&nbsp;</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal"><span style="background:white">4.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style="background:white">Associate the network security
group with the </span><b>OPSTrainingVNETSubnet1Name</b> subnet<span style="background:white"> by adding a comma at the end of the addressPrefix
attribute, and pasting in the networkSecurityGroup reference.&nbsp; Dont forget to
add a leading comma to the addressPrefix line.</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;
color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.5pt;
font-family:Consolas;color:#2E75B6;background:white">"networkSecurityGroup"</span><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">: {</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;
color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.5pt;
font-family:Consolas;color:#2E75B6;background:white">"id"</span><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">: </span><span style="font-size:9.5pt;font-family:Consolas;color:#A31515;background:white">"[resourceId('Microsoft.Network/networkSecurityGroups',
'WebNetworkSecurityGroup')]"</span></p>

<p class="MsoNormal" style="margin-top:6.0pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
}</span></p>

<p class="CodeIndent"><img border="0" width="632" height="148" id="Picture 99" src="./Exercise 2_files/image042.jpg"></p>

<p class="MsoListParagraphCxSpFirst"><span style="background:white">&nbsp;</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal"><span style="background:white">5.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style="background:white">Update the virtual network to have
a dependency on the network security group.</span></p>

<p class="MsoListParagraphCxSpMiddle"><span style="background:white">Click the <b>OPSTrainingVNET</b>
to view the configuration. </span></p>

<p class="MsoListParagraphCxSpMiddle"><img border="0" width="208" height="58" id="Picture 100" src="./Exercise 2_files/image043.jpg"></p>

<p class="MsoListParagraphCxSpMiddle"><span style="background:white">&nbsp;</span></p>

<p class="MsoListParagraphCxSpLast"><span style="background:white">Change the <b>dependsOn</b>
configuration to refer back to the network security group.</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;
color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.5pt;
font-family:Consolas;color:#2E75B6;background:white">"dependsOn"</span><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">: [</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;
color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.5pt;
font-family:Consolas;color:#A31515;background:white">"[resourceId('Microsoft.Network/networkSecurityGroups',
'WebNetworkSecurityGroup')]"</span></p>

<p class="MsoListParagraphCxSpFirst"><span style="font-size:9.5pt;line-height:
106%;font-family:Consolas;color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ],</span></p>

<p class="MsoListParagraphCxSpMiddle"><img border="0" width="622" height="120" id="Picture 14" src="./Exercise 2_files/image044.jpg"></p>

<p class="MsoListParagraphCxSpMiddle"><span style="background:white">&nbsp;</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal"><span style="background:white">6.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style="background:white">Right-click on the Visual Studio
project and select <b>Deploy</b> from the context menu, followed by <b>New
Deployment</b>. Click the <b>Deploy</b> button to update the existing
deployment with the newnetwork security group.</span></p>

<p class="NormalIndent1" style="text-indent:0in"><span style="font-family:&quot;Gadugi&quot;,sans-serif;
background:white">&nbsp;</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal"><span style="background:white">7.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style="background:white">To validate the network security
group is working:</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:1.0in;margin-bottom:.0001pt;text-indent:-.25in;line-height:
normal"><span style="font-family:&quot;Courier New&quot;;background:white">o<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp; </span></span><span style="background:white">Browse to the public IP or DNS name of the web server.
The site should load because traffic is allowed on port 80. </span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:1.0in;margin-bottom:.0001pt;text-indent:-.25in;line-height:
normal"><span style="font-family:&quot;Courier New&quot;;background:white">o<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp; </span></span><span style="background:white">Connect to the <b>armweb</b> virtual machine by
clicking the connect button in the Azure management portal. This should fail
because port 3389 is not allowed in.</span></p>

<p class="MsoListParagraphCxSpMiddle"><span style="background:white">&nbsp;</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal"><span style="background:white">8.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style="background:white">Add a new rule to the network
security group to allow in traffic on port 3389 (RDP) by adding a comma at the
end of the web rule and add the following code:</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;
color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;
color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.5pt;
font-family:Consolas;color:#2E75B6;background:white">"name"</span><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">: </span><span style="font-size:9.5pt;font-family:Consolas;color:#A31515;background:white">"rdprule"</span><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">,</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;
color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.5pt;
font-family:Consolas;color:#2E75B6;background:white">"properties"</span><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">: {</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;
color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.5pt;
font-family:Consolas;color:#2E75B6;background:white">"description"</span><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">: </span><span style="font-size:9.5pt;font-family:Consolas;color:#A31515;background:white">"This
rule allows traffic on port 3389 from the web"</span><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">,</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;
color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.5pt;
font-family:Consolas;color:#2E75B6;background:white">"protocol"</span><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">: </span><span style="font-size:9.5pt;font-family:Consolas;color:#A31515;background:white">"Tcp"</span><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">,</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;
color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.5pt;
font-family:Consolas;color:#2E75B6;background:white">"sourcePortRange"</span><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">: </span><span style="font-size:9.5pt;font-family:Consolas;color:#A31515;background:white">"*"</span><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">,</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;
color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.5pt;
font-family:Consolas;color:#2E75B6;background:white">"destinationPortRange"</span><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">: </span><span style="font-size:9.5pt;font-family:Consolas;color:#A31515;background:white">"3389"</span><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">,</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;
color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.5pt;
font-family:Consolas;color:#2E75B6;background:white">"sourceAddressPrefix"</span><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">: </span><span style="font-size:9.5pt;font-family:Consolas;color:#A31515;background:white">"INTERNET"</span><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">,</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;
color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.5pt;
font-family:Consolas;color:#2E75B6;background:white">"destinationAddressPrefix"</span><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">: </span><span style="font-size:9.5pt;font-family:Consolas;color:#A31515;background:white">"10.0.0.0/24"</span><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">,</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;
color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.5pt;
font-family:Consolas;color:#2E75B6;background:white">"access"</span><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">: </span><span style="font-size:9.5pt;font-family:Consolas;color:#A31515;background:white">"Allow"</span><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">,</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;
color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.5pt;
font-family:Consolas;color:#2E75B6;background:white">"priority"</span><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">:
200,</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;
color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.5pt;
font-family:Consolas;color:#2E75B6;background:white">"direction"</span><span style="font-size:9.5pt;font-family:Consolas;color:black;background:white">: </span><span style="font-size:9.5pt;font-family:Consolas;color:#A31515;background:white">"Inbound"</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;text-autospace:none"><span style="font-size:9.5pt;font-family:Consolas;
color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>

<p class="MsoNormal" style="margin-left:.25in"><span style="font-size:9.5pt;
line-height:107%;font-family:Consolas;color:black;background:white">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>

<p class="MsoListParagraphCxSpFirst"><img border="0" width="462" height="270" id="Picture 102" src="./Exercise 2_files/image045.jpg"></p>

<p class="MsoListParagraphCxSpMiddle"><span style="background:white">&nbsp;</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal"><span style="background:white">9.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style="background:white">Deploy the updated rule and test
RDP connectivity again. </span></p>

<p class="MsoListParagraphCxSpMiddle"><span style="background:white">&nbsp;</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal"><span style="background:white">10.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp; </span></span><span style="background:white">Open the Azure Portal, and navigate to the resource
group containing your deployment.</span></p>

<p class="MsoListParagraphCxSpMiddle"><span style="background:white">&nbsp;</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal"><span style="background:white">11.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp; </span></span><span style="background:white">Click the <b>WebNetworkSecurityGroup</b> in the
resources summary and then click <b>Inbound Security Rules</b>.</span></p>

<p class="MsoListParagraphCxSpMiddle"><img border="0" width="240" height="284" id="Picture 18" src="./Exercise 2_files/image046.jpg"></p>

<p class="MsoListParagraphCxSpMiddle"><span style="background:white">&nbsp;</span></p>

<p class="MsoListParagraph" style="margin-top:6.0pt;margin-right:0in;margin-bottom:
0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:normal"><span style="background:white">12.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp; </span></span><span style="background:white">Examine the created rule.</span></p>

<p class="MsoListParagraphCxSpMiddle"><img border="0" width="618" height="91" id="Picture 21" src="./Exercise 2_files/image047.jpg">&nbsp;</p>

<p class="MsoListParagraphCxSpLast"><span style="background:white">&nbsp;</span></p>

<h2>Summary</h2>

<p class="MsoNormal">In this lab, you provisioned two virtual machines that were
customized with the PowerShell DSC extension to automatically deploy a Web
Server with a web application and a SQL Server running a SQL database. You also
configured a network security group to lower the surface attack area for your
deployment. </p>

<span style="font-size:12.0pt;line-height:107%;font-family:&quot;Gadugi&quot;,sans-serif;
color:#262626"><br clear="all" style="page-break-before:always">
</span>

<p class="MsoNormal"><span style="font-size:24.0pt;line-height:107%;color:#5B9BD5">&nbsp;</span></p>

</div>




</body></html>