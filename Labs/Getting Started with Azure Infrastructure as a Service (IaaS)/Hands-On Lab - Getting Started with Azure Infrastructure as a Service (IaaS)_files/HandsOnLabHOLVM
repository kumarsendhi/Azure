var ModuleAttachment={Name:"",Description:""},handsOnLabVM={LabInfo:ko.observable(ModuleAttachment),ContentUrl:ko.observable(),CourseId:ko.observable(),CourseModuleId:ko.observable(),HasCompletedLab:ko.observable(!1),loadHandsOnLab:function(n,t,i,r){handsOnLabVM.CourseId(t);handsOnLabVM.CourseModuleId(i);ajaxRequest.makeAPIRequest("/Module/GetHandsOnLabInfo","GET",{id:n},function(n){handsOnLabVM.LabInfo(n);handsOnLabVM.LoadContent(handsOnLabVM.LabInfo().Id,r);handsOnLabVM.HasCompletedLab(r)})},UpdateLab:function(){ajaxRequest.makeAPIRequest("/Module/SaveModuleActivity","POST",ko.toJSON({CourseModuleId:handsOnLabVM.CourseModuleId(),ModuleAttachmentId:handsOnLabVM.LabInfo().Id,ActivityStateName:"Completed"}),function(){ajaxRequest.makeAPIRequest("/Course/GetTrainingMaterialCode","GET",{id:handsOnLabVM.CourseId()},function(n){$("#handsOnLabDialog").modal("hide");moduleViewModel.loadCourseModulesData(n,handsOnLabVM.CourseModuleId());handsOnLabVM.HasCompletedLab(!0)})})},LoadContent:function(n,t){var i=t?"Completed":"Started";ajaxRequest.makeAPIRequest("/Module/GetLabContent","GET",{id:n},function(n){handsOnLabVM.LabInfo(n);handsOnLabVM.ContentUrl(n.Url);$("#labdetails").removeClass("labdetails_without_topmargin").addClass("labdetails_with_topmargin");moduleViewModel.resetTimelineHeight()});ajaxRequest.makeAPIRequest("/Module/SaveModuleActivity","POST",ko.toJSON({CourseModuleId:handsOnLabVM.CourseModuleId(),ModuleAttachmentId:n,ActivityStateName:i}),null)}}