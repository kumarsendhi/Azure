(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):n(jQuery)})(function(n){n.fn.addBack=n.fn.addBack||n.fn.andSelf;n.fn.extend({actual:function(t,i){var s,u,h,c;if(!this[t])throw'$.actual => The jQuery method "'+t+'" you called does not exist';var f=n.extend({absolute:!1,clone:!1,includeMargin:!1,display:"block"},i),r=this.eq(0),e,o;return f.clone===!0?(e=function(){r=r.clone().attr("style","position: absolute !important; top: -1000 !important; ").appendTo("body")},o=function(){r.remove()}):(s=[],u="",e=function(){h=r.parents().addBack().filter(":hidden");u+="visibility: hidden !important; display: "+f.display+" !important; ";f.absolute===!0&&(u+="position: absolute !important; ");h.each(function(){var i=n(this),t=i.attr("style");s.push(t);i.attr("style",t?t+";"+u:u)})},o=function(){h.each(function(t){var i=n(this),r=s[t];r===undefined?i.removeAttr("style"):i.attr("style",r)})}),e(),c=/(outer)/.test(t)?r[t](f.includeMargin):r[t](),o(),c}})}),function(n,t,i,r){var u=function(n,t){this.target=n;this.carouselInterval;this.checkImgLoad;this.imgLoad=!1;this._init(t);this._event()};u.options={carousel:!0,carouselTime:1e4};u.prototype={_init:function(t){var i=this;i.options=n.extend(!0,{},u.options,t);i.target.find(".events-body").each(function(){var r=n(this).find(".row").length,t,i;if(r>1){for(t="<ol>",i=0;i<r;i++)t+="<li data-target='"+i+"'><\/li>";t+="<\/ol>";n(this).siblings(".events-footer").html(t).find("li").first().addClass("active")}});i.target.find(".events-body").each(function(){n(this).find(".row").first().show().siblings().hide()});i.target.find("img").on("load",function(){i.target.find(".events-body").each(function(){var t=0;n(this).find(".row").each(function(){n(this).actual("height")>t&&(t=n(this).actual("height"))});n(this).find(".row").height(t)})})},_event:function(){var t=this;t.target.find(".events-header").click(function(){n(this).siblings(".events-body").slideToggle().end().siblings(".events-footer").toggle()});t.target.find(".events-footer li").click(function(){t._carousel(n(this))});t.options.carousel&&(t.carouselInterval=setInterval(function(){t._carousel()},t.options.carouselTime),t.target.find(".events").hover(function(){clearInterval(t.carouselInterval);t.carouselInterval=null},function(){t.carouselInterval==r&&(t.carouselInterval=setInterval(function(){t._carousel()},t.options.carouselTime))}))},_carousel:function(t){var i=this,u;t==r?i.target.find(".events-footer .active").each(function(){var t;t=n(this).is(":last-child")?n(this).siblings().first():n(this).next();i._carousel(t)}):(u=t.data().target,t.addClass("active").siblings().removeClass("active"),t.closest(".events-footer").siblings(".events-body").find(".row").eq(u).show().siblings().hide())}};n.fn["vivaTimeline"]=function(t){var i;return this.each(function(){i=new u(n(this),t)}),this}}(jQuery,window,document)