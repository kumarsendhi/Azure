!function(n){n.jGrowl=function(t,i){0===n("#jGrowl").length&&n('<div id="jGrowl"><\/div>').addClass(i&&i.position?i.position:n.jGrowl.defaults.position).appendTo(i&&i.appendTo?i.appendTo:n.jGrowl.defaults.appendTo);n("#jGrowl").jGrowl(t,i)};n.fn.jGrowl=function(t,i){if(void 0===i&&n.isPlainObject(t)&&(i=t,t=i.message),n.isFunction(this.each)){var r=arguments;return this.each(function(){void 0===n(this).data("jGrowl.instance")&&(n(this).data("jGrowl.instance",n.extend(new n.fn.jGrowl,{notifications:[],element:null,interval:null})),n(this).data("jGrowl.instance").startup(this));n.isFunction(n(this).data("jGrowl.instance")[t])?n(this).data("jGrowl.instance")[t].apply(n(this).data("jGrowl.instance"),n.makeArray(r).slice(1)):n(this).data("jGrowl.instance").create(t,i)})}};n.extend(n.fn.jGrowl.prototype,{defaults:{pool:0,header:"",group:"",sticky:!1,position:"top-right",appendTo:"body",glue:"after",theme:"default",themeState:"highlight",corners:"10px",check:250,life:3e3,closeDuration:"normal",openDuration:"normal",easing:"swing",closer:!0,closeTemplate:"&times;",closerTemplate:"<div>[ close all ]<\/div>",log:function(){},beforeOpen:function(){},afterOpen:function(){},open:function(){},beforeClose:function(){},close:function(){},click:function(){},animateOpen:{opacity:"show"},animateClose:{opacity:"hide"}},notifications:[],element:null,interval:null,create:function(t,i){var r=n.extend({},this.defaults,i);"undefined"!=typeof r.speed&&(r.openDuration=r.speed,r.closeDuration=r.speed);this.notifications.push({message:t,options:r});r.log.apply(this.element,[this.element,t,r])},render:function(t){var u=this,f=t.message,i=t.options,r;i.themeState=""===i.themeState?"":"ui-state-"+i.themeState;r=n("<div/>").addClass("jGrowl-notification alert "+i.themeState+" ui-corner-all"+(void 0!==i.group&&""!==i.group?" "+i.group:"")).append(n("<button/>").addClass("jGrowl-close").html(i.closeTemplate)).append(n("<div/>").addClass("jGrowl-header").html(i.header)).append(n("<div/>").addClass("jGrowl-message").html(f)).data("jGrowl",i).addClass(i.theme).children(".jGrowl-close").bind("click.jGrowl",function(){return n(this).parent().trigger("jGrowl.beforeClose"),!1}).parent();n(r).bind("mouseover.jGrowl",function(){n(".jGrowl-notification",u.element).data("jGrowl.pause",!0)}).bind("mouseout.jGrowl",function(){n(".jGrowl-notification",u.element).data("jGrowl.pause",!1)}).bind("jGrowl.beforeOpen",function(){i.beforeOpen.apply(r,[r,f,i,u.element])!==!1&&n(this).trigger("jGrowl.open")}).bind("jGrowl.open",function(){i.open.apply(r,[r,f,i,u.element])!==!1&&("after"==i.glue?n(".jGrowl-notification:last",u.element).after(r):n(".jGrowl-notification:first",u.element).before(r),n(this).animate(i.animateOpen,i.openDuration,i.easing,function(){n.support.opacity===!1&&this.style.removeAttribute("filter");null!==n(this).data("jGrowl")&&"undefined"!=typeof n(this).data("jGrowl")&&(n(this).data("jGrowl").created=new Date);n(this).trigger("jGrowl.afterOpen")}))}).bind("jGrowl.afterOpen",function(){i.afterOpen.apply(r,[r,f,i,u.element])}).bind("click",function(){i.click.apply(r,[r.message,i,u.element])}).bind("jGrowl.beforeClose",function(){i.beforeClose.apply(r,[r,f,i,u.element])!==!1&&n(this).trigger("jGrowl.close")}).bind("jGrowl.close",function(){n(this).data("jGrowl.pause",!0);n(this).animate(i.animateClose,i.closeDuration,i.easing,function(){n.isFunction(i.close)?i.close.apply(r,[r,f,i,u.element])!==!1&&n(this).remove():n(this).remove()})}).trigger("jGrowl.beforeOpen");""!==i.corners&&void 0!==n.fn.corner&&n(r).corner(i.corners);n(".jGrowl-notification:parent",u.element).length>1&&0===n(".jGrowl-closer",u.element).length&&this.defaults.closer!==!1&&n(this.defaults.closerTemplate).addClass("jGrowl-closer "+this.defaults.themeState+" ui-corner-all").addClass(this.defaults.theme).appendTo(u.element).animate(this.defaults.animateOpen,this.defaults.speed,this.defaults.easing).bind("click.jGrowl",function(){n(this).siblings().trigger("jGrowl.beforeClose");n.isFunction(u.defaults.closer)&&u.defaults.closer.apply(n(this).parent()[0],[n(this).parent()[0]])})},update:function(){n(this.element).find(".jGrowl-notification:parent").each(function(){void 0!==n(this).data("jGrowl")&&void 0!==n(this).data("jGrowl").created&&n(this).data("jGrowl").created.getTime()+parseInt(n(this).data("jGrowl").life,10)<(new Date).getTime()&&n(this).data("jGrowl").sticky!==!0&&(void 0===n(this).data("jGrowl.pause")||n(this).data("jGrowl.pause")!==!0)&&n(this).trigger("jGrowl.beforeClose")});this.notifications.length>0&&(0===this.defaults.pool||n(this.element).find(".jGrowl-notification:parent").length<this.defaults.pool)&&this.render(this.notifications.shift());n(this.element).find(".jGrowl-notification:parent").length<2&&n(this.element).find(".jGrowl-closer").animate(this.defaults.animateClose,this.defaults.speed,this.defaults.easing,function(){n(this).remove()})},startup:function(t){this.element=n(t).addClass("jGrowl").append('<div class="jGrowl-notification"><\/div>');this.interval=setInterval(function(){n(t).data("jGrowl.instance").update()},parseInt(this.defaults.check,10))},shutdown:function(){n(this.element).removeClass("jGrowl").find(".jGrowl-notification").trigger("jGrowl.close").parent().empty();clearInterval(this.interval)},close:function(){n(this.element).find(".jGrowl-notification").each(function(){n(this).trigger("jGrowl.beforeClose")})}});n.jGrowl.defaults=n.fn.jGrowl.prototype.defaults}(jQuery)