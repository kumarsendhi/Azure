
<!-- saved from url=(0103)https://opsgilityweb.blob.core.windows.net/online-labs/introduction-azure-service-bus/Exercise%202.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252">

<meta name="Generator" content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Segoe UI";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:Gadugi;
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:0in;
	line-height:107%;
	font-size:12.0pt;
	font-family:"Segoe UI",sans-serif;
	color:#262626;}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	line-height:107%;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Segoe UI",sans-serif;
	color:#5B9BD5;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:2.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	line-height:107%;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Segoe UI",sans-serif;
	color:#2E74B5;}
h3
	{mso-style-link:"Heading 3 Char";
	margin-top:2.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	line-height:107%;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#1F4D78;
	font-weight:normal;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:0in;
	line-height:107%;
	font-size:12.0pt;
	font-family:"Segoe UI",sans-serif;
	color:#262626;}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:10.0pt;
	line-height:107%;
	font-size:12.0pt;
	font-family:"Segoe UI",sans-serif;
	color:#262626;}
p.MsoCommentText, li.MsoCommentText, div.MsoCommentText
	{mso-style-link:"Comment Text Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Segoe UI",sans-serif;
	color:#262626;}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{mso-style-link:"Header Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Segoe UI",sans-serif;
	color:#262626;}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{mso-style-link:"Footer Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Segoe UI",sans-serif;
	color:#262626;}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{mso-style-link:"Title Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:28.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#4472C4;
	letter-spacing:-.5pt;}
p.MsoTitleCxSpFirst, li.MsoTitleCxSpFirst, div.MsoTitleCxSpFirst
	{mso-style-link:"Title Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:28.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#4472C4;
	letter-spacing:-.5pt;}
p.MsoTitleCxSpMiddle, li.MsoTitleCxSpMiddle, div.MsoTitleCxSpMiddle
	{mso-style-link:"Title Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:28.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#4472C4;
	letter-spacing:-.5pt;}
p.MsoTitleCxSpLast, li.MsoTitleCxSpLast, div.MsoTitleCxSpLast
	{mso-style-link:"Title Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:28.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#4472C4;
	letter-spacing:-.5pt;}
a:link, span.MsoHyperlink
	{color:#0563C1;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:#954F72;
	text-decoration:underline;}
p.MsoPlainText, li.MsoPlainText, div.MsoPlainText
	{mso-style-link:"Plain Text Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:10.5pt;
	font-family:Consolas;}
p.MsoCommentSubject, li.MsoCommentSubject, div.MsoCommentSubject
	{mso-style-link:"Comment Subject Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Segoe UI",sans-serif;
	color:#262626;
	font-weight:bold;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-link:"Balloon Text Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:9.0pt;
	font-family:"Segoe UI",sans-serif;
	color:#262626;}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{mso-style-name:"List Paragraph\,Procedure Step\,Bullet List\,FooterText\,numbered\,List Paragraph1\,Paragraphe de liste1\,Bulletr List Paragraph\,\5217\51FA\6BB5\843D\,\5217\51FA\6BB5\843D1\,List Paragraph2\,List Paragraph21\,Listeafsnit1\,Parágrafo da Lista1\,Párrafo de lista1\,\30EA\30B9\30C8\6BB5\843D1\,Bullet list\,List Paragraph11";
	mso-style-link:"List Paragraph Char\,Procedure Step Char\,Bullet List Char\,FooterText Char\,numbered Char\,List Paragraph1 Char\,Paragraphe de liste1 Char\,Bulletr List Paragraph Char\,\5217\51FA\6BB5\843D Char\,\5217\51FA\6BB5\843D1 Char\,List Paragraph2 Char\,List Paragraph21 Char\,Listeafsnit1 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:.5in;
	line-height:107%;
	font-size:12.0pt;
	font-family:"Segoe UI",sans-serif;
	color:black;}
p.MsoListParagraphCxSpFirst, li.MsoListParagraphCxSpFirst, div.MsoListParagraphCxSpFirst
	{mso-style-name:"List Paragraph\,Procedure Step\,Bullet List\,FooterText\,numbered\,List Paragraph1\,Paragraphe de liste1\,Bulletr List Paragraph\,\5217\51FA\6BB5\843D\,\5217\51FA\6BB5\843D1\,List Paragraph2\,List Paragraph21\,Listeafsnit1\,Parágrafo da Lista1\,Párrafo de lista1\,\30EA\30B9\30C8\6BB5\843D1\,Bullet list\,List Paragraph11CxS";
	mso-style-link:"List Paragraph Char\,Procedure Step Char\,Bullet List Char\,FooterText Char\,numbered Char\,List Paragraph1 Char\,Paragraphe de liste1 Char\,Bulletr List Paragraph Char\,\5217\51FA\6BB5\843D Char\,\5217\51FA\6BB5\843D1 Char\,List Paragraph2 Char\,List Paragraph21 Char\,Listeafsnit1 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	line-height:107%;
	font-size:12.0pt;
	font-family:"Segoe UI",sans-serif;
	color:black;}
p.MsoListParagraphCxSpMiddle, li.MsoListParagraphCxSpMiddle, div.MsoListParagraphCxSpMiddle
	{mso-style-name:"List Paragraph\,Procedure Step\,Bullet List\,FooterText\,numbered\,List Paragraph1\,Paragraphe de liste1\,Bulletr List Paragraph\,\5217\51FA\6BB5\843D\,\5217\51FA\6BB5\843D1\,List Paragraph2\,List Paragraph21\,Listeafsnit1\,Parágrafo da Lista1\,Párrafo de lista1\,\30EA\30B9\30C8\6BB5\843D1\,Bullet list\,List Paragraph11CxS";
	mso-style-link:"List Paragraph Char\,Procedure Step Char\,Bullet List Char\,FooterText Char\,numbered Char\,List Paragraph1 Char\,Paragraphe de liste1 Char\,Bulletr List Paragraph Char\,\5217\51FA\6BB5\843D Char\,\5217\51FA\6BB5\843D1 Char\,List Paragraph2 Char\,List Paragraph21 Char\,Listeafsnit1 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	line-height:107%;
	font-size:12.0pt;
	font-family:"Segoe UI",sans-serif;
	color:black;}
p.MsoListParagraphCxSpLast, li.MsoListParagraphCxSpLast, div.MsoListParagraphCxSpLast
	{mso-style-name:"List Paragraph\,Procedure Step\,Bullet List\,FooterText\,numbered\,List Paragraph1\,Paragraphe de liste1\,Bulletr List Paragraph\,\5217\51FA\6BB5\843D\,\5217\51FA\6BB5\843D1\,List Paragraph2\,List Paragraph21\,Listeafsnit1\,Parágrafo da Lista1\,Párrafo de lista1\,\30EA\30B9\30C8\6BB5\843D1\,Bullet list\,List Paragraph11CxS";
	mso-style-link:"List Paragraph Char\,Procedure Step Char\,Bullet List Char\,FooterText Char\,numbered Char\,List Paragraph1 Char\,Paragraphe de liste1 Char\,Bulletr List Paragraph Char\,\5217\51FA\6BB5\843D Char\,\5217\51FA\6BB5\843D1 Char\,List Paragraph2 Char\,List Paragraph21 Char\,Listeafsnit1 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:.5in;
	line-height:107%;
	font-size:12.0pt;
	font-family:"Segoe UI",sans-serif;
	color:black;}
p.MsoTocHeading, li.MsoTocHeading, div.MsoTocHeading
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	line-height:107%;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#2E74B5;}
span.HeaderChar
	{mso-style-name:"Header Char";
	mso-style-link:Header;}
span.FooterChar
	{mso-style-name:"Footer Char";
	mso-style-link:Footer;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Segoe UI",sans-serif;
	color:#5B9BD5;
	font-weight:bold;}
span.CommentTextChar
	{mso-style-name:"Comment Text Char";
	mso-style-link:"Comment Text";
	font-family:"Gadugi",sans-serif;
	color:#262626;}
span.CommentSubjectChar
	{mso-style-name:"Comment Subject Char";
	mso-style-link:"Comment Subject";
	font-family:"Gadugi",sans-serif;
	color:#262626;
	font-weight:bold;}
span.BalloonTextChar
	{mso-style-name:"Balloon Text Char";
	mso-style-link:"Balloon Text";
	font-family:"Segoe UI",sans-serif;
	color:#262626;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Segoe UI",sans-serif;
	color:#2E74B5;
	font-weight:bold;}
span.TitleChar
	{mso-style-name:"Title Char";
	mso-style-link:Title;
	font-family:"Calibri Light",sans-serif;
	color:#4472C4;
	letter-spacing:-.5pt;}
p.Note, li.Note, div.Note
	{mso-style-name:Note;
	mso-style-link:"Note Char";
	margin-top:6.0pt;
	margin-right:22.7pt;
	margin-bottom:6.0pt;
	margin-left:.5in;
	background:#F2F2F2;
	border:none;
	padding:0in;
	font-size:12.0pt;
	font-family:"Segoe UI",sans-serif;
	color:#262626;}
p.NoteCxSpFirst, li.NoteCxSpFirst, div.NoteCxSpFirst
	{mso-style-name:NoteCxSpFirst;
	mso-style-link:"Note Char";
	margin-top:6.0pt;
	margin-right:22.7pt;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	background:#F2F2F2;
	border:none;
	padding:0in;
	font-size:12.0pt;
	font-family:"Segoe UI",sans-serif;
	color:#262626;}
p.NoteCxSpMiddle, li.NoteCxSpMiddle, div.NoteCxSpMiddle
	{mso-style-name:NoteCxSpMiddle;
	mso-style-link:"Note Char";
	margin-top:0in;
	margin-right:22.7pt;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	background:#F2F2F2;
	border:none;
	padding:0in;
	font-size:12.0pt;
	font-family:"Segoe UI",sans-serif;
	color:#262626;}
p.NoteCxSpLast, li.NoteCxSpLast, div.NoteCxSpLast
	{mso-style-name:NoteCxSpLast;
	mso-style-link:"Note Char";
	margin-top:0in;
	margin-right:22.7pt;
	margin-bottom:6.0pt;
	margin-left:.5in;
	background:#F2F2F2;
	border:none;
	padding:0in;
	font-size:12.0pt;
	font-family:"Segoe UI",sans-serif;
	color:#262626;}
span.NoteChar
	{mso-style-name:"Note Char";
	mso-style-link:Note;
	font-family:"Gadugi",sans-serif;
	color:#262626;
	background:#F2F2F2;}
span.PlainTextChar
	{mso-style-name:"Plain Text Char";
	mso-style-link:"Plain Text";
	font-family:Consolas;}
p.CodeBlock, li.CodeBlock, div.CodeBlock
	{mso-style-name:"Code Block";
	mso-style-link:"Code Block Char";
	margin-top:8.0pt;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:0in;
	background:#F2F2F2;
	border:none;
	padding:0in;
	font-size:12.0pt;
	font-family:Consolas;
	color:#262626;}
p.CodeBlockCxSpFirst, li.CodeBlockCxSpFirst, div.CodeBlockCxSpFirst
	{mso-style-name:"Code BlockCxSpFirst";
	mso-style-link:"Code Block Char";
	margin-top:8.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	background:#F2F2F2;
	border:none;
	padding:0in;
	font-size:12.0pt;
	font-family:Consolas;
	color:#262626;}
p.CodeBlockCxSpMiddle, li.CodeBlockCxSpMiddle, div.CodeBlockCxSpMiddle
	{mso-style-name:"Code BlockCxSpMiddle";
	mso-style-link:"Code Block Char";
	margin:0in;
	margin-bottom:.0001pt;
	background:#F2F2F2;
	border:none;
	padding:0in;
	font-size:12.0pt;
	font-family:Consolas;
	color:#262626;}
p.CodeBlockCxSpLast, li.CodeBlockCxSpLast, div.CodeBlockCxSpLast
	{mso-style-name:"Code BlockCxSpLast";
	mso-style-link:"Code Block Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:0in;
	background:#F2F2F2;
	border:none;
	padding:0in;
	font-size:12.0pt;
	font-family:Consolas;
	color:#262626;}
span.CodeBlockChar
	{mso-style-name:"Code Block Char";
	mso-style-link:"Code Block";
	font-family:Consolas;
	color:#262626;
	background:#F2F2F2;}
span.ListParagraphChar
	{mso-style-name:"List Paragraph Char\,Procedure Step Char\,Bullet List Char\,FooterText Char\,numbered Char\,List Paragraph1 Char\,Paragraphe de liste1 Char\,Bulletr List Paragraph Char\,\5217\51FA\6BB5\843D Char\,\5217\51FA\6BB5\843D1 Char\,List Paragraph2 Char\,List Paragraph21 Char\,Listeafsnit1 Char";
	mso-style-link:"List Paragraph\,Procedure Step\,Bullet List\,FooterText\,numbered\,List Paragraph1\,Paragraphe de liste1\,Bulletr List Paragraph\,\5217\51FA\6BB5\843D\,\5217\51FA\6BB5\843D1\,List Paragraph2\,List Paragraph21\,Listeafsnit1\,Parágrafo da Lista1\,Párrafo de lista1\,\30EA\30B9\30C8\6BB5\843D1\,Bullet list\,List Paragraph11";
	font-family:"Segoe UI",sans-serif;
	color:black;}
span.Heading3Char
	{mso-style-name:"Heading 3 Char";
	mso-style-link:"Heading 3";
	font-family:"Calibri Light",sans-serif;
	color:#1F4D78;}
.MsoChpDefault
	{font-family:"Calibri",sans-serif;}
.MsoPapDefault
	{margin-bottom:8.0pt;
	line-height:107%;}
 /* Page Definitions */
 @page WordSection1
	{size:8.5in 11.0in;
	margin:.5in .5in .5in .5in;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang="EN-US" link="#0563C1" vlink="#954F72">

<div class="WordSection1">

<p class="MsoNormal" style="margin-top:12.0pt;margin-right:0in;margin-bottom:
0in;margin-left:0in;margin-bottom:.0001pt;line-height:17.1pt"><a name="_Toc479264631"><b><span style="font-size:16.0pt;color:#5B9BD5">Exercise 2:
Guaranteed Delivery with Service Bus Topics</span></b></a></p>

<p class="MsoNormal">&nbsp;</p>

<h2><a name="_Toc479264633">Overview</a></h2>

<p class="MsoNormal">In this exercise, you will build and run a .NET example
application that demonstrates the fundamental messaging concept of guaranteed
delivery.</p>

<p class="MsoNormal" style="margin-top:2.0pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;page-break-after:avoid"><a name="_Toc479264635"></a><a name="_Toc479257113"><b><span style="font-size:
14.0pt;line-height:107%;color:#2E74B5">Time Estimate</span></b></a></p>

<p class="MsoListParagraph" style="text-indent:-.25in"><span style="font-family:
Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>30 minutes</p>

<h2><a name="_Toc479264638"></a><a name="_Toc479264090"></a><a name="_Toc444268430">Task 1:&nbsp;</a>Create a service bus namespace and queue
in the portal</h2>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in"><span style="font-size:13.5pt;color:black">.</span><span style="font-size:7.0pt;
font-family:&quot;Times New Roman&quot;,serif;color:black">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-size:13.5pt;color:black">Log into the Azure portal. Click the big
NEW link and then type in the word service bus. Click on the Service Bus
option that comes up in the search results.<br>
<br>
<img width="539" height="209" id="Picture 43" src="./Exercise 2_files/image001.png" alt="https://opsgilityweb.blob.core.windows.net/20160729-introduction-to-microsoft-azure-service-bus/Lab%201%20-%20Fundamentals_files/image018.png"></span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt"><span style="font-size:13.5pt;
color:black">&nbsp;</span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in"><span style="font-size:13.5pt;color:black">2.</span><span style="font-size:7.0pt;
font-family:&quot;Times New Roman&quot;,serif;color:black">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-size:13.5pt;color:black">On the&nbsp;<b>Everything</b>&nbsp;blade
that shows up to the right, click on the&nbsp;<b>Service Bus</b>&nbsp;item.<br>
<img width="697" height="238" id="Picture 42" src="./Exercise 2_files/image002.png" alt="https://opsgilityweb.blob.core.windows.net/20160729-introduction-to-microsoft-azure-service-bus/Lab%201%20-%20Fundamentals_files/image019.png"></span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt"><span style="font-size:13.5pt;
color:black">&nbsp;</span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in"><span style="font-size:13.5pt;color:black">3.</span><span style="font-size:7.0pt;
font-family:&quot;Times New Roman&quot;,serif;color:black">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-size:13.5pt;color:black">On the&nbsp;<b>Service Bus</b>&nbsp;blade
that shows up to the right, click the&nbsp;<b>Create</b>&nbsp;button.<br>
<img width="318" height="755" id="Picture 41" src="./Exercise 2_files/image003.png" alt="https://opsgilityweb.blob.core.windows.net/20160729-introduction-to-microsoft-azure-service-bus/Lab%201%20-%20Fundamentals_files/image020.png"></span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt"><span style="font-size:13.5pt;
color:black">&nbsp;</span></p>

<p class="MsoListParagraph" style="text-indent:-.25in"><span style="font-size:
13.5pt;color:black">4.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style="font-size:13.5pt;color:black">In the Create
Namespace blade enter the details for creation of service bus namespace.</span></p>

<p class="MsoListParagraph" style="margin-left:1.0in;text-indent:-.25in"><span style="font-size:13.5pt;color:black">a.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style="font-size:13.5pt;color:black">Name: unique namespace
for Service Bus</span></p>

<p class="MsoListParagraph" style="margin-left:1.0in;text-indent:-.25in"><span style="font-size:13.5pt;color:black">b.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;
</span></span><span style="font-size:13.5pt;color:black">Pricing Tier: select
Standard</span></p>

<p class="MsoListParagraph" style="margin-left:1.0in;text-indent:-.25in"><span style="font-size:13.5pt;color:black">c.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style="font-size:13.5pt;color:black">Subscription: Select
the appropriate subscription from list.</span></p>

<p class="MsoListParagraph" style="margin-left:1.0in;text-indent:-.25in"><span style="font-size:13.5pt;color:black">d.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;
</span></span><span style="font-size:13.5pt;color:black">Resource Group: Select
Use Existing and enter the Resource group name.</span></p>

<p class="MsoListParagraph" style="margin-left:1.0in;text-indent:-.25in"><span style="font-size:13.5pt;color:black">e.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style="font-size:13.5pt;color:black">Location: Select the
nearest location. Click <b>Create</b>.</span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-top:0in;margin-right:0in;
margin-bottom:13.5pt;margin-left:.75in;line-height:12.85pt"><img width="283" height="411" id="Picture 62" src="./Exercise 2_files/image004.jpg"></p>

<p class="MsoListParagraph" style="text-indent:-.25in"><span style="font-size:
13.5pt;color:black">5.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style="font-size:13.5pt;color:black">Once the Service Bus
deployment successful notification is received, Click on Resource Groups.
Select the service bus resource group created in previous step. Click on
Service Bus namespace object. </span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt;line-height:
12.85pt"><img width="626" height="230" id="Picture 64" src="./Exercise 2_files/image005.jpg"></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt"><span style="font-size:13.5pt;color:black">&nbsp;</span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt"><span style="font-size:13.5pt;color:black">&nbsp;</span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt"><span style="font-size:13.5pt;color:black">&nbsp;</span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt"><span style="font-size:13.5pt;color:black">&nbsp;</span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt"><span style="font-size:13.5pt;color:black">&nbsp;</span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt;text-indent:
-.25in"><span style="font-size:13.5pt;color:black">6.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style="font-size:13.5pt;color:black">Click on Add Queue.
On Create queue blade enter the queue name. Select default values and click
on Create.</span></p>

<p class="MsoListParagraphCxSpLast" style="margin-bottom:13.5pt;line-height:12.85pt"><img width="626" height="358" id="Picture 65" src="./Exercise 2_files/image006.jpg"></p>

<p class="MsoNormal" style="margin-bottom:13.5pt"><span style="font-size:13.5pt;
color:black">&nbsp;</span></p>

<p class="MsoListParagraphCxSpFirst" style="margin-bottom:13.5pt;text-indent:
-.25in"><span style="font-size:13.5pt;color:black">7.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style="font-size:13.5pt;color:black">Once the queue in
created, Queue should be visible in Service Bus namespace blade.</span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt;line-height:
12.85pt"><img width="487" height="396" id="Picture 66" src="./Exercise 2_files/image007.jpg"></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt;text-indent:
-.25in"><span style="font-size:13.5pt;color:black">8.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style="font-size:13.5pt;color:black">Click on queue
Orders. In the Setting pane for queue Orders, click on Shared Access
policies. </span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt;line-height:
12.85pt"><img width="626" height="308" id="Picture 67" src="./Exercise 2_files/image008.jpg"></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt"><span style="font-size:13.5pt;color:black">&nbsp;</span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt;text-indent:
-.25in"><span style="font-size:13.5pt;color:black">9.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style="font-size:13.5pt;color:black">Click on Add in
Shared access policies blade. Enter Policy name write and select the claim
Send</span></p>

<p class="MsoListParagraphCxSpLast" style="margin-bottom:13.5pt;line-height:12.85pt"><img width="626" height="197" id="Picture 68" src="./Exercise 2_files/image009.jpg"></p>

<p class="MsoNormal" style="margin-bottom:13.5pt"><span style="font-size:13.5pt;
color:black">&nbsp;</span></p>

<p class="MsoListParagraphCxSpFirst" style="margin-bottom:13.5pt;text-indent:
-.25in"><span style="font-size:13.5pt;color:black">10.<span style="font:7.0pt &quot;Times New Roman&quot;">
</span></span><span style="font-size:13.5pt;color:black">&nbsp;Repeat the previous
step to create policy read with claim Listen.</span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt;line-height:
12.85pt"><img width="626" height="199" id="Picture 69" src="./Exercise 2_files/image010.jpg"></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt"><span style="font-size:13.5pt;color:black">&nbsp;</span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt;text-indent:
-.25in"><span style="font-size:13.5pt;color:black">11.<span style="font:7.0pt &quot;Times New Roman&quot;">
</span></span><span style="font-size:13.5pt;color:black">&nbsp;Both policies i.e.
read and write should be visible in Shared access policies blade.</span></p>

<p class="MsoListParagraphCxSpLast" style="margin-bottom:13.5pt;line-height:12.85pt"><img width="509" height="249" id="Picture 71" src="./Exercise 2_files/image011.jpg"></p>

<p class="MsoNormal">&nbsp;</p>

<p class="MsoNormal">&nbsp;</p>

<p class="MsoNormal" style="margin-top:2.0pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:15.0pt"><b><span style="font-size:14.0pt;color:#2E74B5">Task 2: Configure the sample app with
your shared access keys</span></b></p>

<p class="MsoNormal"><span style="font-size:13.5pt;color:#262626">In this task,
you will open the sample app <b>GuaranteedDelivery</b> and configure it with
your shared access keys.</span></p>

<p class="MsoListParagraph" style="text-indent:-.25in"><span style="font-size:
13.5pt;color:black">1.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style="font-size:13.5pt;color:black">In the Azure portal, click
on Resource Groups. Select the service bus resource group created in previous
exercise. Click on Service Bus namespace object. </span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt;line-height:
12.85pt"><img width="626" height="293" id="Picture 70" src="./Exercise 2_files/image012.jpg"></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt"><span style="font-size:13.5pt;color:black">Click + Topic to add a topic.</span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt"><span style="font-size:13.5pt;color:black">Enter pubsub as the Name. Keep all the
defaults and click <b>Create</b>.</span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt"><span style="font-size:13.5pt;color:black">&nbsp;</span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt;line-height:
12.85pt"><img width="307" height="477" id="Picture 13" src="./Exercise 2_files/image013.jpg"></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt"><span style="font-size:13.5pt;color:black">Open pubsub.</span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt"><span style="font-size:13.5pt;color:black">Click on Shared access policies.</span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt"><span style="font-size:13.5pt;color:black">Add Policy for write with Send Selected.</span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt;line-height:
12.85pt"><img width="251" height="388" id="Picture 14" src="./Exercise 2_files/image014.jpg"></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt"><span style="font-size:13.5pt;color:black">&nbsp;</span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt"><span style="font-size:13.5pt;color:black">Repeat for read/Listen.</span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt"><span style="font-size:13.5pt;color:black">Repeat for manage/ with Manage, Send and
Listen selected.</span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt"><span style="font-size:13.5pt;color:black">&nbsp;</span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt;line-height:
12.85pt"><img width="305" height="483" id="Picture 15" src="./Exercise 2_files/image015.jpg"></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt"><span style="font-size:13.5pt;color:black">&nbsp;</span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt"><span style="font-size:13.5pt;color:black">Service Bus namespace blade should list
the objects as below. Select topic pubsub</span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt"><span style="font-size:13.5pt;color:black">&nbsp;</span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt;line-height:
12.85pt"><img width="649" height="338" id="Picture 16" src="./Exercise 2_files/image016.jpg"></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt"><span style="font-size:13.5pt;color:black">&nbsp;</span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt"><span style="font-size:13.5pt;color:black">&nbsp;</span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt"><span style="font-size:13.5pt;color:black">In the Settings pane of topic pubsub
click on Shared access policies. Select the access policy manage.</span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt;line-height:
12.85pt"><img width="626" height="328" id="Picture 81" src="./Exercise 2_files/image017.jpg"></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt"><span style="font-size:13.5pt;color:black">&nbsp;</span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt"><span style="font-size:13.5pt;color:black">Click on copy PRIMARY KEY associated
with Policy manage.</span></p>

<p class="MsoListParagraphCxSpLast" style="margin-bottom:13.5pt;line-height:12.85pt"><img width="508" height="433" id="Picture 82" src="./Exercise 2_files/image018.jpg"></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:13.5pt;
margin-left:.5in;text-indent:-.25in;line-height:12.85pt"><span style="font-size:7.0pt;font-family:&quot;Times New Roman&quot;,serif;color:black">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-size:13.5pt;color:black">5.</span><span style="font-size:7.0pt;
font-family:&quot;Times New Roman&quot;,serif;color:black">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-size:13.5pt;color:black">If you are prompted for permission,
click&nbsp;<b>Allow Access</b>.<br>
<img width="389" height="183" id="Picture 11" src="./Exercise 2_files/image019.png" alt="https://opsgilityweb.blob.core.windows.net/20160729-introduction-to-microsoft-azure-service-bus/Lab%201%20-%20Fundamentals_files/image045.png"></span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:13.5pt;
margin-left:.5in;text-indent:-.25in"><span style="font-size:13.5pt;color:black">6.</span><span style="font-size:7.0pt;font-family:&quot;Times New Roman&quot;,serif;color:black">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-size:13.5pt;color:black">Leave the portal page open right where it
is! You will come right back here in a few steps.</span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:13.5pt;
margin-left:.5in;text-indent:-.25in"><span style="font-size:13.5pt;color:black">7.</span><span style="font-size:7.0pt;font-family:&quot;Times New Roman&quot;,serif;color:black">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-size:13.5pt;color:black">Open the&nbsp;<b>C:\OpsgilityTraining\service-bus-labs-master</b>&nbsp;folder
and then double-click the&nbsp;<b>GuaranteedDelivery</b>&nbsp;folder.<br>
<img width="485" height="89" id="Picture 10" src="./Exercise 2_files/image020.png" alt="https://opsgilityweb.blob.core.windows.net/20160729-introduction-to-microsoft-azure-service-bus/Lab%201%20-%20Fundamentals_files/image046.png"></span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:13.5pt;
margin-left:.5in;text-indent:-.25in"><span style="font-size:13.5pt;color:black">8.</span><span style="font-size:7.0pt;font-family:&quot;Times New Roman&quot;,serif;color:black">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-size:13.5pt;color:black">Double-click the GuaranteedDelivery.sln
file to open this solution in Visual Studio 2017.<br>
<img width="508" height="164" id="Picture 9" src="./Exercise 2_files/image021.png" alt="https://opsgilityweb.blob.core.windows.net/20160729-introduction-to-microsoft-azure-service-bus/Lab%201%20-%20Fundamentals_files/image047.png"></span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:13.5pt;
margin-left:.5in;text-indent:-.25in"><span style="font-size:13.5pt;color:black">9.</span><span style="font-size:7.0pt;font-family:&quot;Times New Roman&quot;,serif;color:black">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-size:13.5pt;color:black">If you get the welcome screen for Visual
Studio that prompts you to sign in with a Microsoft account, go ahead and sign
in with your Azure credentials Microsoft Account.<br>
<img width="468" height="574" id="Picture 8" src="./Exercise 2_files/image022.png" alt="https://opsgilityweb.blob.core.windows.net/20160729-introduction-to-microsoft-azure-service-bus/Lab%201%20-%20Fundamentals_files/image048.png"></span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:13.5pt;
margin-left:.5in;text-indent:-.25in"><span style="font-size:13.5pt;color:black"><br>
<br>
</span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:13.5pt;
margin-left:.5in;text-indent:-.25in"><span style="font-size:13.5pt;color:black">11.</span><span style="font-size:7.0pt;font-family:&quot;Times New Roman&quot;,serif;color:black">&nbsp;</span><span style="font-size:13.5pt;color:black">If you are prompted about opening the
solution, simply click OK. Repeat this every time it asks.<br>
<br>
<img width="652" height="229" id="Picture 12" src="./Exercise 2_files/image023.png" alt="https://opsgilityweb.blob.core.windows.net/20160729-introduction-to-microsoft-azure-service-bus/Lab%201%20-%20Fundamentals_files/image050.png"></span></p>

<p class="MsoListParagraph" style="margin-bottom:13.5pt;text-indent:-.25in"><span style="font-size:13.5pt;color:black">12.<span style="font:7.0pt &quot;Times New Roman&quot;">
</span></span><span style="font-size:13.5pt;color:black">&nbsp;If you see a One-way
upgrade message, press OK, and close the migration report.</span></p>

<p class="MsoNormal" style="margin-bottom:13.5pt;line-height:12.85pt"><img width="683" height="340" id="Picture 17" src="./Exercise 2_files/image024.jpg"></p>

<p class="MsoNormal" style="margin-bottom:13.5pt"><span style="font-size:13.5pt;
color:black">&nbsp;</span></p>

<p class="MsoNormal" style="margin-bottom:13.5pt"><span style="font-size:13.5pt;
color:black">If the project fails to load in the solution, right click on the
project in the solution to remove it and then right click the solution and
re-add the existing project to the solution.</span></p>

<p class="MsoNormal" style="margin-bottom:13.5pt;line-height:12.85pt"><img width="687" height="272" id="Picture 18" src="./Exercise 2_files/image025.jpg"></p>

<p class="MsoNormal" style="margin-bottom:13.5pt"><span style="font-size:13.5pt;
color:black">&nbsp;</span></p>

<p class="MsoNormal" style="margin-bottom:13.5pt;line-height:12.85pt"><img width="720" height="344" id="Picture 21" src="./Exercise 2_files/image026.jpg"></p>

<p class="MsoNormal" style="margin-bottom:13.5pt"><span style="font-size:13.5pt;
color:black">&nbsp;</span></p>

<p class="MsoNormal" style="margin-bottom:13.5pt;line-height:12.85pt"><img width="720" height="233" id="Picture 22" src="./Exercise 2_files/image027.jpg"></p>

<p class="MsoListParagraphCxSpFirst" style="margin-bottom:13.5pt;text-indent:
-.25in"><span style="font-size:13.5pt;color:black">13.<span style="font:7.0pt &quot;Times New Roman&quot;">
</span></span><span style="font-size:13.5pt;color:black">&nbsp;Then open the&nbsp;<b>app.config</b>&nbsp;file
inside of the&nbsp;<b>GuaranteedDelivery</b>&nbsp;project .</span></p>

<p class="MsoListParagraphCxSpMiddle" style="margin-bottom:13.5pt"><span style="font-size:13.5pt;color:black"><br>
&nbsp;&nbsp;&nbsp; <br>
<img width="300" height="249" id="Picture 5" src="./Exercise 2_files/image028.png" alt="https://opsgilityweb.blob.core.windows.net/20160729-introduction-to-microsoft-azure-service-bus/Lab%201%20-%20Fundamentals_files/image051.png"></span></p>

<p class="MsoListParagraphCxSpLast" style="margin-bottom:13.5pt;text-indent:-.25in"><span style="font-size:13.5pt;color:black">14.<span style="font:7.0pt &quot;Times New Roman&quot;">
</span></span><span style="font-size:13.5pt;color:black">Then paste your
connection information into the value elements, completely replace the [your ]
text with the correct values. There should not be any square brackets after you
fill in the details.</span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:13.5pt;
margin-left:.5in;text-indent:-.25in;line-height:12.85pt"><span style="font-size:7.0pt;font-family:&quot;Times New Roman&quot;,serif;color:black">&nbsp;</span><span style="font-size:13.5pt;color:black"> <img width="638" height="152" src="./Exercise 2_files/image029.png" alt="https://opsgilityweb.blob.core.windows.net/20160729-introduction-to-microsoft-azure-service-bus/Lab%201%20-%20Fundamentals_files/image052.png"></span><span style="font-size:13.5pt;color:black"><br>
<br>
</span><span class="CodeBlockChar"><span style="font-size:10.0pt">[your
namespace] = the service bus namespace you chose<br>
[your access key] = paste in the key that you copied from the Azure management
site</span></span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:13.5pt;
margin-left:.5in;text-indent:-.25in"><span style="font-size:13.5pt;color:black">&nbsp;</span></p>

<p class="MsoNormal" style="margin-top:2.0pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:15.0pt"><a name="_Toc479264639"><b><span style="font-size:14.0pt;color:#2E74B5">Task 3:
Run the GuaranteedDelivery solution in Visual Studio</span></b></a></p>

<p class="MsoNormal"><span style="font-size:13.5pt;color:#262626">In this task,
you will run the newly configured&nbsp;<b>GuaranteedDelivery</b>&nbsp;solution
in Visual Studio to see how the Service Bus queue system can work.</span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:13.5pt;
margin-left:.5in;text-indent:-.25in"><span style="font-size:13.5pt;color:black">1.</span><span style="font-size:7.0pt;font-family:&quot;Times New Roman&quot;,serif;color:black">&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span style="font-size:13.5pt;color:red">IMPORANT!</span></b><span style="font-size:
13.5pt;color:red">&nbsp;</span><span style="font-size:13.5pt;color:black">Click
the&nbsp;<b>Build</b>&nbsp;menu and choose&nbsp;<b>Rebuild Solution</b>. If you
forget this step, your changes to the&nbsp;<b>app.config</b>&nbsp;file might
not be recognized!<br>
<img width="324" height="117" id="Picture 3" src="./Exercise 2_files/image030.png" alt="https://opsgilityweb.blob.core.windows.net/20160729-introduction-to-microsoft-azure-service-bus/Lab%201%20-%20Fundamentals_files/image053.png"></span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:13.5pt;
margin-left:.5in;text-indent:-.25in"><span style="font-size:13.5pt;color:black">2.</span><span style="font-size:7.0pt;font-family:&quot;Times New Roman&quot;,serif;color:black">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-size:13.5pt;color:black">In Visual Studio, click the&nbsp;<b>Start&nbsp;</b>button
on the menu bar.&nbsp;<br>
<img width="241" height="97" id="Picture 2" src="./Exercise 2_files/image031.png" alt="https://opsgilityweb.blob.core.windows.net/20160729-introduction-to-microsoft-azure-service-bus/Lab%201%20-%20Fundamentals_files/image054.png"></span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:13.5pt;
margin-left:.5in;text-indent:-.25in"><span style="font-size:13.5pt;color:black">3.</span><span style="font-size:7.0pt;font-family:&quot;Times New Roman&quot;,serif;color:black">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-size:13.5pt;color:black">Now you can one console window that should
be showing some output. The message should reappear about every 60 seconds.<br>
<img width="614" height="161" id="Picture 1" src="./Exercise 2_files/image032.png" alt="https://opsgilityweb.blob.core.windows.net/20160729-introduction-to-microsoft-azure-service-bus/Lab%201%20-%20Fundamentals_files/image055.png"></span></p>

<p class="MsoNormal" style="margin-left:.25in"><span style="font-size:13.5pt;
color:#262626">&nbsp;</span></p>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#F2F2F2;margin-left:.5in;margin-right:22.7pt">

<p class="Note" style="margin-top:6.0pt;margin-right:0in;margin-bottom:6.0pt;
margin-left:0in;background:#F2F2F2">Note: Review the code in&nbsp;<b>Program.cs</b>&nbsp;to
find the following code (around line 37):</p>

</div>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#F2F2F2">

<p class="CodeBlockCxSpFirst">subscriptionClient.OnMessage((msg)&nbsp;=&gt;</p>

<p class="CodeBlockCxSpMiddle">{</p>

<p class="CodeBlockCxSpMiddle">&nbsp;&nbsp;&nbsp;&nbsp;messageTimer.Stop();</p>

<p class="CodeBlockCxSpMiddle">&nbsp;&nbsp;&nbsp;&nbsp;seconds&nbsp;=&nbsp;0;</p>

<p class="CodeBlockCxSpMiddle">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#2B91AF">Console</span>.WriteLine();</p>

<p class="CodeBlockCxSpMiddle">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#2B91AF">Console</span>.WriteLine(<span style="color:#A31515">$"Received&nbsp;message&nbsp;Id:&nbsp;</span>{msg.MessageId}<span style="color:#A31515">"</span>);</p>

<p class="CodeBlockCxSpMiddle">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#2B91AF">Console</span>.WriteLine(<span style="color:#A31515">"System&nbsp;died,&nbsp;message&nbsp;not&nbsp;completed."</span>);</p>

<p class="CodeBlockCxSpMiddle">&nbsp;&nbsp;&nbsp;&nbsp;messageTimer.Start();</p>

<p class="CodeBlockCxSpMiddle">},&nbsp;<span style="color:blue">new</span>&nbsp;<span style="color:#2B91AF">OnMessageOptions</span>()</p>

<p class="CodeBlockCxSpMiddle">{</p>

<p class="CodeBlockCxSpMiddle">&nbsp;&nbsp;&nbsp;&nbsp;AutoComplete&nbsp;=&nbsp;<span style="color:blue">false</span></p>

<p class="CodeBlockCxSpLast">});</p>

</div>

<p class="MsoNormal"><span style="font-size:13.5pt;color:#262626">&nbsp;</span></p>

<div style="border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#F2F2F2;margin-left:.5in;margin-right:22.7pt">

<p class="Note" style="margin-top:6.0pt;margin-right:0in;margin-bottom:6.0pt;
margin-left:0in;background:#F2F2F2"><a name="_Hlk479264193">This is an
asynchronous message handler from the subscription client that shows the
message Id of the message it receives, writes some console output, and then
stops. </a>Notice that the&nbsp;<span style="font-family:Consolas;color:#2B91AF">OnMessageOptions</span>&nbsp;object
has <span style="font-family:Consolas;color:black">AutoComplete =</span>&nbsp;<span style="font-family:Consolas;color:blue">false</span>&nbsp;which means that the
subscription client is&nbsp;<b><i>NOT</i></b>&nbsp;marking the message as
completed. This is why the message continues to reappear in the subscription.
The Service Bus is guaranteeing its delivery by requiring the subscriber to acknowledge
that it received and completed the message. This is guaranteed delivery in
action.</p>

</div>

<p class="MsoNormal" style="margin-top:2.0pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:15.0pt">&nbsp;</p>

</div>




</body></html>